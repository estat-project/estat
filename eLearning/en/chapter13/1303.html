<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <title>Chapter 13</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="../../css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="../../css/dashboard.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <style type="text/css">code{white-space: pre;}</style>
       <style type="text/css">.sidebar ul{padding-left: 10px;}</style>
       <script src="../../js/prism.js"></script>
       <link rel="stylesheet" href="../../css/prism.css">
       <script src="../../js/jquery.min.js"></script>    
       <script type="text/javascript" id="MathJax-script" async
	       src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
       </script>
       <script>
	 $(document).ready(function() {
  	     toc = $("#sidebar > ul > li > ul");
  	     sections = toc.children();   // <li>
  	     for(var i=0; i<sections.length; i++) {
  		 if ($(sections[i]).children().length == 1) { continue; }
  		 var first = sections[i].firstElementChild;  // <a>
  		 var last = sections[i].lastElementChild;
  		 var li = $("<li>");
  		 var details = $("<details>");
  		 var summary = $("<summary>");
  		 $(summary).append(first)
  		 $(details).append(summary);
  		 $(details).append(last);
  		 $(li).append(details);	
  		 $(sections[i]).replaceWith(li);
  	     }
	 });
	 </script>
       <link rel="stylesheet" href="../../css/pandoc.css">
       <script src="../../js/eBook.js"></script>
       <script src="../../../eStat/js/language.js" ></script>   
       <script src="../../../eStat/lib/d3/d3.v4.min.js"></script>   
       <script src="../../../eStat/lib/DistributionsUtil.js" ></script>
       <script src="../../../eStat/js/eStatU.js"></script>
       <script src="../../../eStat/lib/FileSaver.min.js" ></script>
       <script src="../../../eStat/lib/convertSVG.js"></script>
</head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <ul class="nav navbar-nav">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Chapter<span class="caret"></span></a>
      <ul class="dropdown-menu"> 
        <li><a href="../index.html">HOME</a></li>
        <li><a href="../chapter01/index.html">Chapter 1</a></li>
        <li><a href="../chapter02/index.html">Chapter 2</a></li>
        <li><a href="../chapter03/index.html">Chapter 3</a></li>
        <li><a href="../chapter04/index.html">Chapter 4</a></li>
        <li><a href="../chapter05/index.html">Chapter 5</a></li>
        <li><a href="../chapter06/index.html">Chapter 6</a></li>
        <li><a href="../chapter07/index.html">Chapter 7</a></li>
        <li><a href="../chapter08/index.html">Chapter 8</a></li>
        <li><a href="../chapter09/index.html">Chapter 9</a></li>
        <li><a href="../chapter10/index.html">Chapter 10</a></li>
        <li><a href="../chapter11/index.html">Chapter 11</a></li>
        <li><a href="../chapter12/index.html">Chapter 12</a></li>
        <li><a href="../chapter13/index.html">Chapter 13</a></li>
      </ul>
    </li>
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Section<span class="caret"></span></a>
	  <ul class="dropdown-menu"> 
                <li><a href="../chapter13/1301.html">13.1 What is Time Series Analysis?</a></li>
                <li><a href="../chapter13/1302.html">13.2 Smoothing of Time Series</a></li>
                <li><a href="../chapter13/1303.html">13.3 Transformation of Time Series</a></li>
                <li><a href="../chapter13/1304.html">13.4 Regression Model and Forecasting</a></li>
                <li><a href="../chapter13/1305.html">13.5 Exponential Smoothing Model and Forecasting</a></li>
                <li><a href="../chapter13/1306.html">13.6 13.6 Seasonal Model and Forecasting</a></li>
                <li><a href="../chapter13/1307.html">13.7 Exercise</a></li>
	  </ul>
    </li>
    <li><a class="navbar-brand" href="http://estat.me" target="_blank">eStat</a></li>
    <li><a class="navbar-brand" href="http://www.estat.me/estat/eStatU/index.html" target="_blank">eStatU</a></li>
    <li><a class="navbar-brand" href="/estat/eLearning/Distribution/index.html" target="_blank">Distribution</a></li>
  </ul>
</nav>

<div class="container-fluid">
  <div class="row">
    <div id="sidebar" class="col-sm-3 col-md2 sidebar">
      <ul>
	<li><a href=""></a>
	  <ul>
            <li><a href="../index.html">HOME</a></li>
	    <li><a href="../chapter01/index.html">Chapter 1</a>
	      <ul>
                <li><a href="../chapter01/0101.html">1.1 Statistics and Data Science</a></li>
                <li><a href="../chapter01/0102.html">1.2 Population and Sample</a></li>
                <li><a href="../chapter01/0103.html">1.3 Variables and Data</a></li>
                <li><a href="../chapter01/0104.html">1.4 Softwares for Statistical Analysis</a></li>
                <li><a href="../chapter01/0105.html">1.5 Exercies</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter02/index.html">Chapter 2</a>
	      <ul>
                <li><a href="../chapter02/0201.html">2.1 Visualization of Qualitative Data</a></li>
                <li><a href="../chapter02/0202.html">2.2 Visualization of Summary Data</a></li>
                <li><a href="../chapter02/0202.html">&nbsp;&nbsp;2.2.1 Summary Data of Categorical Variable</a></li>
                <li><a href="../chapter02/0202.html">&nbsp;&nbsp;2.2.2 Summary Data of Categorical Variable with Group</a></li>
                <li><a href="../chapter02/0203.html">2.3 Visualization of Raw Data</a></li>
                <li><a href="../chapter02/0203.html">&nbsp;&nbsp;2.3.1 Raw Data of Categorical Variable</a></li>
                <li><a href="../chapter02/0203.html">&nbsp;&nbsp;2.3.2 Raw Data of Categorical Variable with Group</a></li>
                <li><a href="../chapter02/0204.html">2.4 Word Cloud</a></li>
                <li><a href="../chapter02/0205.html">2.5 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter03/index.html">Chapter 3</a>
	      <ul>
                <li><a href="../chapter03/0301.html">3.1 Visualization of Quantitative Data</a></li> 
                <li><a href="../chapter03/0302.html">3.2 Visualization of Single Quantitative Variable</a></li>
                <li><a href="../chapter03/0302.html">&nbsp;&nbsp;3.2.1 Visualization of Quantitative Data without Group</a></li>
                <li><a href="../chapter03/0302.html">&nbsp;&nbsp;3.2.2 Visualization of Quantitative Data with Group</a></li>
                <li><a href="../chapter03/0303.html">3.3 Visualization of Two Quantitative Variables</a></li>
                <li><a href="../chapter03/0304.html">3.4 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter04/index.html">Chapter 4</a>
	      <ul>
                <li><a href="../chapter04/0401.html">4.1 Frequency Table for Single Variable</a></li>
                <li><a href="../chapter04/0401.html">&nbsp;&nbsp;4.1.1 Frequency Table for Categorical Variable</a></li>
                <li><a href="../chapter04/0401.html">&nbsp;&nbsp;4.1.2 Frequency Table for Quantitative Variable</a></li>
                <li><a href="../chapter04/0402.html">4.2 Contingency Table for Two Variables</a></li>
                <li><a href="../chapter04/0402.html">&nbsp;&nbsp;4.2.1 Contingency Table for Two Categorical Variables</a></li>
                <li><a href="../chapter04/0402.html">&nbsp;&nbsp;4.2.2 Contingency Table for Two Quantitative Variables</a></li>
                <li><a href="../chapter04/040301.html">4.3 Summary Measures for Quantitative Variable</a></li>
                <li><a href="../chapter04/040301.html">&nbsp;&nbsp;4.3.1 Measures of Central Tendency</a></li>
                <li><a href="../chapter04/040302.html">&nbsp;&nbsp;4.3.2 Measures of Dispersion</a></li>
                <li><a href="../chapter04/0404.html">4.4 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter05/index.html">Chapter 5</a>
	      <ul>
                <li><a href="../chapter05/0501.html">5.1 Definition of Probability</a></li>
                <li><a href="../chapter05/0502.html">5.2 Calculation of Probability</a></li>
                <li><a href="../chapter05/0503.html">5.3 Discrete Random Variable</a></li>
		<li><a href="../chapter05/050301.html">&nbsp;&nbsp;5.3.1 Binomial Distribution</a></li>
		<li><a href="../chapter05/050302.html">&nbsp;&nbsp;5.3.2 Poissson Distribution</a></li>
		<li><a href="../chapter05/050303.html">&nbsp;&nbsp;5.3.3 Geometric Distribution</a></li>
		<li><a href="../chapter05/050304.html">&nbsp;&nbsp;5.3.4 Hypergeometric Distribution</a></li>
                <li><a href="../chapter05/0504.html">5.4 Continuous Random Variable</a></li>
		<li><a href="../chapter05/050401.html">&nbsp;&nbsp;5.4.1 Normal Distribution</a></li>
		<li><a href="../chapter05/050402.html">&nbsp;&nbsp;5.4.2 Exponential Distribution</a></li>
                <li><a href="../chapter05/0505.html">5.5 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter06/index.html">Chapter 6</a>
	      <ul>
                <li><a href="../chapter06/0601.html">6.1 Simple Random Sampling</a></li>
                <li><a href="../chapter06/060201.html">6.2 Sampling Distribution of Sample Means and Estimation of the Population Mean</a></li>
                <li><a href="../chapter06/060201.html">&nbsp;&nbsp;6.2.1 Sampling Distribution of Sample Means</a></li>
                <li><a href="../chapter06/060202.html">&nbsp;&nbsp;6.2.2 Estimation of the Population Mean</a></li>
                <li><a href="../chapter06/060301.html">6.3 Sampling Distribution of Sample Variances and Estimation of the Population Variance</a></li>
                <li><a href="../chapter06/060301.html">&nbsp;&nbsp;6.3.1 Sampling Distribution of Sample Variances</a></li>
                <li><a href="../chapter06/060302.html">&nbsp;&nbsp;6.3.2 Estimation of the Population Variance</a></li>
                <li><a href="../chapter06/060401.html">6.4 Sampling Distribution of Sample Proportions and Estimation of the Population Proportion</a></li>
                <li><a href="../chapter06/060401.html">&nbsp;&nbsp;6.4.1 Sampling Distribution of Sample Proportions</a></li>
                <li><a href="../chapter06/060402.html">&nbsp;&nbsp;6.4.2 Estimation of the Population Proportion</a></li>
                <li><a href="../chapter06/0605.html">6.5 Determination of the Sample Size  </a></li>
                <li><a href="../chapter06/0605.html">&nbsp;&nbsp;6.5.1 Determination of the Sample Size to Estimate the Population Mean </a></li>
                <li><a href="../chapter06/0605.html">&nbsp;&nbsp;6.5.2 Determination of the Sample Size to Estimate the Population Proportion</a></li> 
                <li><a href="../chapter06/0606.html">6.6 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter07/index.html">Chapter 7</a>
	      <ul>
                <li><a href="../chapter07/0701.html">7.1 Testing Hypothesis for a Population Mean</a></li>
                <li><a href="../chapter07/0702.html">7.2 Testing Hypothesis for a Population Variance</a></li>
                <li><a href="../chapter07/0703.html">7.3 Testing Hypothesis for a Population Proportion</a></li>
                <li><a href="../chapter07/0704.html">7.4 Testing Hypothesis with α and β simultaneously</a></li>
                <li><a href="../chapter07/0704.html">&nbsp;&nbsp;7.4.1 Type 2 Error and Power of a Test</a></li>
                <li><a href="../chapter07/0704.html">&nbsp;&nbsp;7.4.2 Testing Hypothesis with α and β</a></li>
                <li><a href="../chapter07/0705.html">7.5 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter08/index.html">Chapter 8</a>
	      <ul>
                <li><a href="../chapter08/080101.html">8.1 Testing Hypothesis for Two Population Means</a></li>
                <li><a href="../chapter08/080101.html">&nbsp;&nbsp;8.1.1 Two Independent Samples</a></li>
                <li><a href="../chapter08/080102.html">&nbsp;&nbsp;8.1.2 Paired Sample</a></li>
                <li><a href="../chapter08/0802.html">8.2 Testing Hypothesis for Two Population Variances</a></li>
                <li><a href="../chapter08/0803.html">8.3 Testing Hypothesis for Two Population Proportions</a></li>
                <li><a href="../chapter08/0804.html">8.4 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter09/index.html">Chapter 9</a>
	      <ul>
                <li><a href="../chapter09/0901.html">9.1 Analysis of Variance for Experiments of Single Factor</a></li>
                <li><a href="../chapter09/090101.html">&nbsp;&nbsp;9.1.1 Multiple Comparison</a></li>
                <li><a href="../chapter09/090101.html">&nbsp;&nbsp;9.1.2 Residual Analysis</a></li>
                <li><a href="../chapter09/0902.html">9.2 Design of Experiments for Sampling</a></li>
                <li><a href="../chapter09/0902.html">&nbsp;&nbsp;9.2.1 Completely Randomized Design</a></li>
                <li><a href="../chapter09/0902.html">&nbsp;&nbsp;9.2.2 Randomized Block Design</a></li>
                <li><a href="../chapter09/0903.html">9.3 Analysis of Variance for Experiments of Two Factors</a></li>
                <li><a href="../chapter09/0904.html">9.4 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter10/index.html">Chapter 10</a>
	      <ul>
                <li><a href="../chapter10/1001.html">10.1 Nonparametric Test for the Location Parameter of Single Population  </a></li>
                <li><a href="../chapter10/1001.html">&nbsp;&nbsp;10.1.1 Sign Test</a></li>
                <li><a href="../chapter10/100102.html">&nbsp;&nbsp;10.1.2 Wilcoxon Signed Rank Sum Test</a></li>
                <li><a href="../chapter10/1002.html">10.2 Nonparametric Test for Location Parameters of Two Populations</a></li>
                <li><a href="../chapter10/1002.html">&nbsp;&nbsp;10.2.1 Independent Samples: Wilcoxon Rank Sum Test</a></li>
                <li><a href="../chapter10/100202.html">&nbsp;&nbsp;10.2.2 Paired Samples: Wilcoxon Signed Rank Sum Test</a></li>
                <li><a href="../chapter10/1003.html">10.3 Nonparametric Test for Location Parameters of Several Populations</a></li>
                <li><a href="../chapter10/1003.html">&nbsp;&nbsp;10.3.1 Completely Randomized Design: Kruskal-Wallis Test</a></li>
                <li><a href="../chapter10/100302.html">&nbsp;&nbsp;10.3.2 Randomized Block Design: Friedman Test</a></li>
                <li><a href="../chapter10/1004.html">10.4 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter11/index.html">Chapter 11</a>
	      <ul>
                <li><a href="../chapter11/1101.html">11.1 Goodness of Fit Test</a></li>
                <li><a href="../chapter11/1101.html">&nbsp;&nbsp;11.1.1 Goodness of Fit Test for Categorical Distribution</a></li>
                <li><a href="../chapter11/110102.html">&nbsp;&nbsp;11.1.2 Goodness of Fit Test for Continuous Distribution</a></li>
                <li><a href="../chapter11/1102.html">11.2 Testing Hypothesis for Contingency Table</a></li>
                <li><a href="../chapter11/1102.html">&nbsp;&nbsp;11.2.1 Independence Test</a></li>
                <li><a href="../chapter11/110202.html">&nbsp;&nbsp;11.2.2 Homogeneity Test</a></li>
                <li><a href="../chapter11/1103.html">11.3 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter12/index.html">Chapter 12</a>
	      <ul>
                <li><a href="../chapter12/1201.html">12.1 Correlation Analysis</a></li>
                <li><a href="../chapter12/1202.html">12.2 Simple Linear Regression Analysis</a></li>
                <li><a href="../chapter12/1203.html">12.3 Multiple Linear Regression Analysis</a></li>
                <li><a href="../chapter12/1204.html">12.4 Exercise</a></li>
	      </ul>
	    </li>
	    <li><a href="../chapter13/index.html">Chapter 13</a>
	      <ul>
                <li><a href="../chapter13/1301.html">13.1 What is Time Series Analysis?</a></li>
                <li><a href="../chapter13/1302.html">13.2 Smoothing of Time Series</a></li>
                <li><a href="../chapter13/1303.html">13.3 Transformation of Time Series</a></li>
                <li><a href="../chapter13/1304.html">13.4 Regression Model and Forecasting</a></li>
                <li><a href="../chapter13/1305.html">13.5 Exponential Smoothing Model and Forecasting</a></li>
                <li><a href="../chapter13/1306.html">13.6 Seasonal Model and Forecasting</a></li>
                <li><a href="../chapter13/1307.html">13.7 Exercise</a></li>
	      </ul>
	    </li>

	  </ul>
	</li>
      </ul>
    </div>
  </div>
</div>

<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

  <!--***********************************************************************-->
  <h2>Chapter 13. Time Series Analysis</h2> 
  <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(132)">&#10094; &nbsp;&nbsp;<b>Previous</b></button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(134)"><b>Next</b>&nbsp;&nbsp; &#10095;</button>
  <p>
  <h3>13.3 Transformation of Time Series</h3>
  <p>
<!---
  <h6>
      <a href="1202.pdf" target="_blank"><u>[presentation]</u></a>&nbsp;&nbsp;&nbsp;
      <a href="https://youtu.be/wn0Dl3dLgko" target="_blank"><u>[video]</u></a>
  </h6>
--->
  <p>
    <div class="mainTable">
      Time series can be viewed by drawing the raw data directly, but in order to examine various characteristics, change in percentage increase or decrease is examined, and an index that is a percentage with respect to base time is alse examined. In addition, in order to examine the relation of the previous data, it is compared with a time lag or converted into horizontal data using the difference. When the variance of the time series increases with time, it is sometimes converted into a form suitable for applying the time series model by using logarithmic, square root, or Box-Cox transformation.   
    </div>
    <p>
  <h4>13.3.1 Percentage Change</h4>
    <p>
    <div class="mainTable">
      <h6>A. Percent Change</h6>    
      In a time series, you can examine the increase or decrease of a value, but you can easily observe
      the change by calculating the percentage increase or decrease. When the time series is expressed as
      \(Y_1 , Y_2 , ... , Y_n\) , the percentage increase or decrease \(P_t\) compared to the previous data is as follows.
      $$
          P_{t} \,=\, \frac {Y _{t} - Y_{t-1}} {Y_{t-1}} \times 100 , \quad t=2,3, ... , n
      $$
      [Table 13.3.1] shows the number of houses in Korea from 2010 to 2020, and &lt;Figure 13.3.1&gt; shows 
      the percentage increase or decrease compared to the previous data. Looking at this rate of change, 
      it can be easily observed that the original time series has an overall increasing trend, but the rate 
      of change of the previous year has many changes. In other words, it can be observed that there was a 
      2.23% increase in the number of houses in 2014 compared to the previous year, and a 2.48% increase 
      in the number of houses in 2018 as well.
      <p>
      \(\qquad P_{2014} \,=\, \frac{19161.2 - 18742.1} {18742.1}  \times 100 \,=\, 2.23  \)
      <p>
      <div class="textLeft">[Table 13.3.1] Number of Houses in Korea and Percent Change <br>(Korea National Statistical Office, unit 1000)</div>
      <p>
      <table style="width:400px"> 
        <tr> 
          <th class="thGrey" style="width:100px">Year</th>
          <th class="thGrey" style="width:150px">Number of Houses</th>
          <th class="thGrey" style="width:150px">% change</th>
        </tr>
        <tr> 
           <td class="tdCenter">
             2010<br>
             2011<br>
             2012<br>
             2013<br>
             2014<br>
             2015<br>
             2016<br>
             2017<br>
             2018<br>
             2019<br>
             2020<br>
          </td> 
           <td class="tdCenter">
             17738.8<br>
             18082.1<br>
             18414.4<br>
             18742.1<br>
             19161.2<br>
             19559.1<br>
             19877.1<br>
             20313.4<br>
             20818.0<br>
             21310.1<br>
             21673.5<br>
          </td> 
           <td class="tdCenter">
                 <br>
             1.93<br>
             1.83<br>
             1.77<br>
             2.23<br>
             2.07<br>
             1.62<br>
             2.19<br>
             2.48<br>
             2.36<br>
             1.70<br>
          </td> 
        </tr>
      </table>
      <p>

      <!---   ************ html for Time Series - Transformation ************  ---->
      <b>[<span data-msgid="TimeSeries"></span> : <span data-msgid="Transformation"></span>]</b>
      <p>
         <input class="qrBtn" type="image" src="../../QR/eStatU340_TimeseriesTransformation.svg" onclick="window.open(addrStr[135])">
      <p>
      <button type="button" id="erase" style="width:100px;"><b>New Data</b></button>
      <p>
      <table class="data">
	<tr>
	  <td><b>Y <span data-msgid="input data"></span></b></td>
	  <td colspan="3"><input type="text" size=73 id="data2"></td>
	</tr>
	<tr>
	  <td><b>X <span data-msgid="input data"></span></b></td>
	  <td colspan="3"><input type="text" size=73 id="data1"></td>
	</tr>
        <tr>
          <td style="text-align: right;"><b><span data-msgid="Main Title">Main Title</span></b>&nbsp;</td>
          <td colspan="3"><input type="text" size=50 id="mtitle"></td>
        </tr>
	<tr>
          <td style="text-align: right;"><b><span data-msgid="y title">y title</span></b>&nbsp;</td>
          <td><input type="text" size=15 id="ytitle"></td>
 	</tr>
      </table>   
      <p>
      <button type="button" id="execute"><span data-msgid="Execute">Execute</span></button>
      <table class="stat">
	<tr>
 	  <td>&nbsp;&nbsp;<span data-msgid="NumberData"></span></td>         
	  <td><span class="fontmath">n<sub>Y</sub></span></td>
	  <td><input type="text" style="text-align:center;" size=6 id="nn41"> <span style="color:red;">( ≤ 120)</span></td>     
 	  <td>&nbsp;&nbsp;<span data-msgid="Mean"></span></td>         
	  <td><span class="fontmath">Y&#772;</span></td>
	  <td><input type="text" style="text-align:center;" size=6 id="yavg"></td>      
	</tr>
      </table>

      <svg id="chart" width="620" height="400" style="border-style:solid;"> </svg> 
      <form name="modelForm"> 
      <table style="width:700px;">
	<tr>
          <td>
            <label>
              <input type="radio" id="model0" name="model">&nbsp;&nbsp;<span data-msgid="PercentChange"></span> &nbsp; 100 × (Y<sub>t</sub> - Y<sub>t-1</sub>) / Y<sub>t-1</sub> 
            </label> 
          </td>
	</tr>
	<tr>
          <td>
            <label>
              <input type="radio" id="model1" name="model">&nbsp;&nbsp;<span data-msgid="WeightedIndex"></span> &nbsp; 100 × Y<sub>t</sub> / Y<sub>t₀</sub> 
            </label> 
          </td>
          <td>&nbsp;&nbsp; <span data-msgid="BaseTime"></span> = <input type="number" min="1" max="120" size=5 value="1" style="text-align:center" id="baseT1" onchange="drawModel1()">
          </td>
	</tr>
	<tr>
          <td>
            <label>
              <input type="radio" id="model2" name="model">&nbsp;&nbsp;<span data-msgid="Lag"></span>
            </label> 
          </td>
          <td>&nbsp;&nbsp; <span data-msgid="LagTime"></span> = &nbsp;<input type="number" min="1" max="12" size=5 value="1" style="text-align:center" id="baseT2" onchange="drawModel2()">
              <span style="color:red"> ≤ 12 </span>
          </td>
          <td>
              <label><input type="checkbox" id="acf"> ACF Table</label>
          </td>
	</tr>
	<tr>
          <td>
            <label>
              <input type="radio" id="model3" name="model">&nbsp;&nbsp;<span data-msgid="Diff"></span>
            </label> 
          </td>
          <td>&nbsp;&nbsp; <span data-msgid="DiffTime"></span> = &nbsp;<input type="number" min="1" max="3" size=5 value="1" style="text-align:center" id="diff" onchange="drawModel3()">
              <span style="color:red"> ≤ 3 </span>
          </td>
          <td>
              <label><input type="checkbox" id="acfDiff"> ACF Table</label>
          </td>
	</tr>
	<tr>
          <td>
            <label>
              <input type="radio" id="model4" name="model">&nbsp;&nbsp;<span data-msgid="Log"></span> <span data-msgid="Transformation"></span>: log(Y)
            </label> 
          </td>
	</tr>
	<tr>
          <td>
            <label>
              <input type="radio" id="model5" name="model">&nbsp;&nbsp;<span data-msgid="SquareRoot"></span> <span data-msgid="Transformation"></span>: √Y
            </label> 
          </td>
        </tr>
	<tr>
          <td>
            <label>
              <input type="radio" id="model6" name="model">&nbsp;&nbsp;<span data-msgid="BoxCox"></span>  <span data-msgid="Transformation"></span>: (Y<sup>p</sup> - 1) / p 
            </label> 
          </td>
          <td>&nbsp;&nbsp; p = <input type="number" min="2" max="7" size=5 value="2" style="text-align:center" id="boxP" onchange="drawModel6()">
              <span style="color:red"> 2 ≤ p ≤ 7 </span>
          </td>
	</tr>
	<tr>
 	  <td><button type="button" id="saveGraphU"><span class="tooltiptext" data-msgid="Graph Save">Graph Save</span></button></td>               
          <td><button type="button" id="createTable"><span class="tooltiptext" data-msgid="CreateTable"></span></button> </td>   
          <td><button type="button" id="saveTable"><span class="tooltiptext" data-msgid="SaveTable"></span></button> </td>
	</tr>
      </table>
      </form>
      <p>
         <div class="figText">&lt;Figure 13.3.1&gt; Number of Houses in Korea and Transformation</div>
      <p>
      <div> 
        <div id="screenTable" >
          <div id="loc">
          </div>
        </div>
      </div>
      <p>
    </div>
    <p>

    <!---   ************ script for Time Series - Transformation ************  ---->
  <script>
      setLanguage('en');
      var svg     = d3.select("#chart"); 
      var i, k, ibegin;
      var svgWidth    = 620;
      var svgHeight   = 400;
      var margin      = {top: 80, bottom: 50, left: 60, right: 60};
      var buffer      = 40;
      var graphWidth  = svgWidth - margin.left - margin.right;
      var graphHeight = svgHeight - margin.top - margin.bottom;
      var checkTitle  = true;
      var mTitle, yTitle, xTitle;
      var tobs, model, lag, diff; 
      var temp, str, strLabel, strModel, yavg, corr;
      var xobs, xmin, xmax, xgap, gxmin, gxmax, gxrange;
      var yobs, ymin, ymax, ygap, gymin, gymax, gyrange;
      var yminR, ymaxR, ygapR, gyminR, gymaxR, gyrangeR;
      var wobs, baseT1, baseT2, boxP;
      var fontsize  = "1em";
      var numACF    = 12;
      var stat1     = new Array(30);
      var rowmax    = 200;
      var tdata     = new Array(rowmax);
      var xdata     = new Array(rowmax);
      var ydata     = new Array(rowmax);
      var ydiff     = new Array(rowmax);
      var yhat0     = new Array(rowmax);
      var yhat1     = new Array(rowmax);
      var yhat2     = new Array(rowmax);
      var yhat3     = new Array(rowmax);
      var yhat4     = new Array(rowmax);
      var yhat5     = new Array(rowmax);
      var yhat6     = new Array(rowmax);
      var tstat     = new Array(rowmax);
      var tempw     = new Array(rowmax);
      var tempx     = new Array(rowmax);
      var tempy     = new Array(rowmax);
      var acf       = new Array(rowmax);
      xTitle = "t";
      document.getElementById("nn41").disabled = true;    
      document.getElementById("yavg").disabled = true;    
      svg.selectAll("*").remove();
      var weightType = 1;
function weight1() {weightType = 1}
function weight2() {weightType = 2}

      // input data control ===================================================
      d3.select("#data2").on("input", function() {
        stat = simplestat("#data2");  
        ydata = data; 
        yobs = stat.n;
      });
      d3.select("#data1").on("input", function() {
        stat = simplestat("#data1");  
        xdata = data; 
        xobs = stat.n;
      });
      updateData = function() {
        document.getElementById("data1").value = '';
        document.getElementById("data2").value = '';    
      }

      // model type
      var modelType = document.modelForm.model;
      modelType[0].onclick = function() { drawModel0();}    
      modelType[1].onclick = function() { drawModel1();}    
      modelType[2].onclick = function() { drawModel2();}    
      modelType[3].onclick = function() { drawModel3();}    
      modelType[4].onclick = function() { drawModel4();}    
      modelType[5].onclick = function() { drawModel5();}    
      modelType[6].onclick = function() { drawModel6();}    
       
      // init example
      document.getElementById("data1").value = "2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020";
        stat = simplestat("#data1");  
        xdata = data; 
        xobs = stat.n;
      document.getElementById("data2").value = "17738.8,18082.1,18414.4,18742.1,19161.2,19559.1,19877.1,20313.4,20818.0,21310.1,21673.5";
        stat = simplestat("#data2");  
        ydata = data; 
        yobs = stat.n;
      document.getElementById("mtitle").value = "Number of Houses";
      document.getElementById("ytitle").value = "";
  
      // erase Data and Graph
      d3.select("#erase").on("click",function() {
        svg.selectAll("*").remove();
        document.getElementById("data1").value  = "";
        document.getElementById("data2").value  = "";
        document.getElementById("mtitle").value = "";
        document.getElementById("ytitle").value = "";
        document.getElementById("nn41").value   = "";
        document.getElementById("yavg").value   = "";
        document.getElementById("model0").checked = false;
        document.getElementById("model1").checked = false;
        document.getElementById("model2").checked = false;
        document.getElementById("model3").checked = false;
        document.getElementById("model4").checked = false;
        document.getElementById("model5").checked = false;
        document.getElementById("model6").checked = false;
        document.getElementById("acf").checked = false;
        document.getElementById("acfDiff").checked = false;
      })
  
      d3.select("#execute").on("click", function(){  
          svg.selectAll("*").remove();  // 전화면 제거
          modelClear();
          document.getElementById("baseT1").value   = 1; 
          document.getElementById("baseT2").value   = 1; 
          document.getElementById("diff").value     = 1; 
          document.getElementById("boxP").value     = 2; 
          if (xobs > 0) {
            if (yobs != xobs) {alert("size of Y data is not the same as X data"); return;}
          }
          else {
            for (i = 0; i < yobs; i++) {
              tdata[i] = i + 1;   
              xdata[i] = tdata[i];
            }
          }
          tobs = yobs;
          if (tobs < numACF) numACF = tobs-3;
          else if (tobs > 20) {
            numACF = Math.floor( (tobs+1)/ 2);
          }

          // 입력 도수에 숫자 문자 빈칸 있나 체크
          for (i=0; i<tobs; i++) {
            if ( isNaN(ydata[i]) ) {
              svg.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
                 .text(alertMsg[48][langNum]).style("stroke","red").style("font-size","1em");
              return;
            }
          }
          // title
          mTitle = d3.select("#mtitle").node().value;
          yTitle = d3.select("#ytitle").node().value;
          // 시계열 그림
          nforecast = 0;
          model1Stat(tobs, tdata, xdata, ydata, stat1);
          document.getElementById("nn41").value = yobs;
          yavg = stat1[11];
          document.getElementById("yavg").value = f2(yavg);
          initialCordinate(tobs, xdata, ydata);    
          ibegin = 0;
          strModel = "model0";
          showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, ydata);
      })
      // svg Graph Save
      d3.select("#saveGraphU").on("click", function() {
        var svg = d3.select("#chart");
        var width = svgWidth;
        var height = svgHeight;
        var svgString = getSVGString(svg.node());
        svgString2Image(svgString, width, height, 'png', save);
        function save(dataBlob, filesize) {
          saveAs(dataBlob, 'eStatGraphU.png');
        }
      });
      // create Table
      d3.select("#createTable").on("click", function() {
          if (model==0) for (j=0; j<30; j++) tstat[j] = yhat0[j];
          else if (model==1) for (j=0; j<30; j++) tstat[j] = yhat1[j];
          else if (model==2) for (j=0; j<30; j++) tstat[j] = yhat2[j];
          else if (model==3) for (j=0; j<30; j++) tstat[j] = yhat3[j];
          else if (model==4) for (j=0; j<30; j++) tstat[j] = yhat4[j];
          else if (model==5) for (j=0; j<30; j++) tstat[j] = yhat5[j];
          else if (model==6) for (j=0; j<30; j++) tstat[j] = yhat6[j];
          transformationTable(strModel, tobs, ydata, tstat); 
      });

      // save Table
      d3.select("#saveTable").on("click", function() {
        head = '<html><head><meta charset="UTF-8"></head><body>';
        tail = '</body></html>';
        saveAs(new Blob([head + d3.select("#screenTable").html() + tail]), "eStatULog.html");
      });
      // ACF 그리기
      d3.select("#acf").on("click",function() {
          if(this.checked) drawACF();
          else drawModel2();
      })
      // Diff ACF 그리기
      d3.select("#acfDiff").on("click",function() {
          if(this.checked) drawDiffACF();
          else drawModel3();
      })
function modelClear() {
          document.getElementById("model0").checked = false; 
          document.getElementById("model1").checked = false; 
          document.getElementById("model2").checked = false; 
          document.getElementById("model3").checked = false; 
          document.getElementById("model4").checked = false; 
          document.getElementById("model5").checked = false; 
          document.getElementById("model6").checked = false; 
          document.getElementById("acf").checked    = false; 
          document.getElementById("acfDiff").checked= false; 
}
// Percent change
function drawModel0() {
            model = 0;
            for (i=1; i<tobs; i++) {
              yhat0[i] = 100*((ydata[i]-ydata[i-1])/ydata[i-1]);
            }
            ibegin = 1;
            strModel = svgStrU[115][langNum]; // Percent Change;
            initialCordinate(tobs, xdata, ydata);    
            showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat0);
}
// Index
function drawModel1(){
            model = 1;
            modelClear();
            document.getElementById("model1").checked = true; 
            baseT1 = parseInt(d3.select("#baseT1").node().value);
            for (i=0; i<tobs; i++) {
              yhat1[i] = 100 * ydata[i] / ydata[baseT1-1];
            }
            ibegin = 0;
            strModel = svgStrU[116][langNum]+" ("+svgStrU[123][langNum]+"="+baseT1+")"; // 단순지수
            initialCordinate(tobs, xdata, ydata);    
            showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat1);
}
// Lag
function drawModel2(){
            model = 2;
            modelClear();
            document.getElementById("model2").checked = true; 
            document.getElementById("baseT1").value   = 1; 
            document.getElementById("diff").value     = 1; 
            document.getElementById("boxP").value     = 2; 
            lag = parseInt(d3.select("#baseT2").node().value);
            for (i=lag; i<tobs; i++) {
              yhat2[i] = ydata[i-lag];
            }
            autocorrelation(tobs, ydata, acf)
            strModel = svgStrU[117][langNum] + " ("+lag+"), r = "+f3(acf[lag-1]); // 시차
            ibegin = lag;
            initialCordinate(tobs, xdata, ydata);    
            showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat2);
}
// Draw ACF
function drawACF(){
    drawModel2();
    document.getElementById("model2").checked = true; 
    document.getElementById("acf").checked = true; 
    autocorrelation(tobs, ydata, acf) 
    str = "Autocorrelation function";
    ibegin = 0;
    initialCordinate(tobs, xdata, ydata);    
    showTimeSeriesPlot2(str, tobs, ibegin, xdata, ydata, acf);
    transformationTable(str, numACF-1, yhat2, acf); 
}
// Draw Diff ACF
function drawDiffACF(){
    drawModel3();
    document.getElementById("model3").checked = true; 
    document.getElementById("acfDiff").checked = true; 
    num = tobs-diff;
    for (i=0; i<num; i++) ydiff[i] = yhat3[i+diff];
    autocorrelation(num, ydiff, acf) 
    str = "Autocorrelation function";
    ibegin = diff;
    initialCordinate(num, xdata, ydiff);    
    showTimeSeriesPlot2(str, num, ibegin, xdata, ydiff, acf);
    transformationTable(str, numACF-1, yhat3, acf); 
}
function autocorrelation(num, ylag, acf) {
    var i, temp, meany, variy, covxy, corr;
    // Total y sum of squares
    meany = 0;
    for (i=0; i<num; i++) meany += ylag[i];
    meany = meany / num;
    variy = 0;
    for (i=0; i<num; i++) {
      temp = ylag[i] - meany;
      variy += temp*temp
    }
    // Cross product sum of squares
    for (k=1; k<numACF; k++) {
      covxy = 0;
      for (i=0; i<num-k; i++) covxy += (ylag[i]-meany)*(ylag[i+k]-meany);
      if (covxy == 0) corr = 0;
      else    corr = covxy / variy;
      acf[k-1] = corr;  
    }
}
// Difference
function drawModel3(){
         model = 3;
         modelClear();
         document.getElementById("model3").checked = true; 
         document.getElementById("baseT1").value   = 1; 
         document.getElementById("baseT2").value   = 1; 
         document.getElementById("boxP").value     = 2; 
         for (i=0; i<tobs; i++) yhat3[i] = NaN;
         diff = parseInt(d3.select("#diff").node().value);
         for (i=1; i<tobs; i++) {
            tempw[i] = ydata[i] - ydata[i-1];
            yhat3[i] = tempw[i];
         }
         if (diff > 1) {
            for (i=0; i<tobs; i++) yhat3[i] = NaN;
            for (i=2; i<tobs; i++) {
              tempx[i] = tempw[i] - tempw[i-1];
              yhat3[i] = tempx[i];
            }
         }
         if (diff > 2) {
            for (i=0; i<tobs; i++) yhat3[i] = NaN;
            for (i=3; i<tobs; i++) {
              tempy[i] = tempx[i] - tempx[i-1];
              yhat3[i] = tempy[i];
            }
         }
         ibegin = diff;
         strModel = svgStrU[118][langNum]+" ("+diff+")"; // differencing
         initialCordinate(tobs, xdata, ydata);    
         showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat3);
}
// Log
function drawModel4() {
            model = 4;
            for (i=0; i<tobs; i++) {
              if (ydata[i] <= 0) {alert("Negative data is not allowed"); return;}
              yhat4[i] = Math.log(ydata[i]);
            }
            ibegin = 0;
            strModel = "Log(Y)";
            initialCordinate(tobs, xdata, ydata);    
            showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat4);
}
// SQRT
function drawModel5() {
            model = 5;
            for (i=0; i<tobs; i++) {
              if (ydata[i] <= 0) {alert("Negative data is not allowed"); return;}
              yhat5[i] = Math.sqrt(ydata[i]);
            }
            ibegin = 0;
            strModel = "√Y";
            initialCordinate(tobs, xdata, ydata);    
            showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat5);
}
// Box-Cox
function drawModel6(){
            model = 6;
            modelClear();
            document.getElementById("model6").checked = true; 
            document.getElementById("baseT1").value   = 1; 
            document.getElementById("baseT2").value   = 1; 
            document.getElementById("diff").value     = 1; 
            boxP = parseFloat(d3.select("#boxP").node().value);
            for (i=0; i<tobs; i++) {
              if (ydata[i] <= 0) {alert("Negative data is not allowed"); return;}
              yhat6[i] = (Math.pow(ydata[i],boxP) - 1) / boxP;
            }
            ibegin = 0;
            strModel = "Box-Cox (p="+boxP+")";
            initialCordinate(tobs, xdata, ydata);    
            showTimeSeriesPlot2(strModel, tobs, ibegin, xdata, ydata, yhat6);
}


function transformationTable(strModel, nobs, ydiff, yhat) {
    var screenTable = document.getElementById("screenTable");
    var table = document.createElement('table');
    loc.appendChild(table);
    var row, header;
    var i, j, k, strModel, temp;
    var ncol = 4;
    var cell = new Array(ncol);
    table.style.fontSize = "13px";
    k = 0;
    row = table.insertRow(k++);
    row.style.height ="30px";
    for (j=0; j<ncol; j++) {
      cell[j] = row.insertCell(j);
      cell[j].style.textAlign = "center";
      cell[j].style.border = "1px solid black";
      cell[j].style.width ="100px";
    }
    if (strModel == "Autocorrelation function") {
       cell[0].innerHTML = svgStrU[119][langNum]; //자기상관함수 
    }
    else cell[0].innerHTML = strModel;

    row  = table.insertRow(k++);
    row.style.height ="25px";
    for (j=0; j<ncol; j++) {
      cell[j] = row.insertCell(j);
      cell[j].style.backgroundColor = "#eee";
      cell[j].style.textAlign = "center";
      cell[j].style.border = "1px solid black";
    }
    cell[0].innerHTML = "<b>t</b>";
    cell[1].innerHTML = "X(t)";
    if (strModel == "Autocorrelation function") {
       if (model == 2) cell[2].innerHTML = "Y(t-"+lag+")";
       else if (model == 3) cell[2].innerHTML = "▽<sup>"+diff+"</sup>Y(t)";
       cell[3].innerHTML = svgStrU[119][langNum]; //자기상관함수 
    }
    else {
       cell[2].innerHTML = "Y(t)";
       cell[3].innerHTML = strModel;  
    }

    for (i=0; i<nobs; i++) {
       row = table.insertRow(k++);
       for (j=0; j<ncol; j++) {
              cell[j] = row.insertCell(j)          
              cell[j].style.textAlign = "center";
              cell[j].style.border = "1px solid black";
       }
       cell[0].innerHTML = i+1;
       cell[1].innerHTML = xdata[i];
       cell[2].innerHTML = f3(ydiff[i]);
       cell[3].innerHTML = f4(yhat[i]);
       cell[0].style.backgroundColor = "#eee";
       cell[0].style.textAlign = "center";
    }
}
// Time Series Transformation 그리기 함수 -------------------------------------------------------------
function showTimeSeriesPlot2(strModel, nobs, ibegin, xdata, ydata, yhat) {
     svg.selectAll("*").remove();  // 전화면 제거
     var xgrid    = new Array(tobs);
     var ygrid    = new Array(tobs);
     var ygridR   = new Array(tobs);
     var tempx    = new Array(tobs);
     var tempy    = new Array(tobs);
     var i, tx, ty;
     var radius = 3;
     // Yt Right 통계량
     if ( (strModel == "Autocorrelation function") ) {
       yminR = -3;
       ymaxR = 1;
     }
     else {
       yminR = yhat[ibegin];
       ymaxR = yhat[ibegin];
       for (i=ibegin+1; i<nobs; i++) {
        if (yminR > yhat[i]) yminR = yhat[i];
        if (ymaxR < yhat[i]) ymaxR = yhat[i];
       } 
     }
     ygapR    = (ymaxR - yminR) / 10;
     gyminR   = yminR - ygapR;
     gymaxR   = ymaxR + ygapR;
     gyrangeR = gymaxR - gyminR;
     ty = margin.top + 20;
     if ( (strModel == "Autocorrelation function") ) {
       svg.append("text").attr("class","acf")
          .attr("x", margin.left + 20)
          .attr("y", ty)
          .text(svgStrU[119][langNum])     //autocorrelation
          .style("stroke",myColor[1])
     }
     else if (strModel != "model0") {
       svg.append("text")
          .attr("x", margin.left + 20)
          .attr("y", ty)
          .text(strModel)
          .style("stroke",myColor[1]) 
     }
     // 주제목
         svg.append("text")
            .attr("x", margin.left + graphWidth/2)
            .attr("y", margin.top / 2 + 10)
            .style("font-size", "1.8em")
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "middle")
            .text(mTitle)
     // X축 제목
         svg.append("text")
            .style("font-size", fontsize)
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "middle")
            .attr("x", margin.left + graphWidth / 2)
            .attr("y", margin.top + graphHeight + margin.bottom / 2 + 15)
            .text(xTitle)
     // Y축 제목
         tx = margin.left / 2 - 30;
         ty = margin.top + 15;
         svg.append("text")
            .style("font-size", fontsize)
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "end")
            .attr("x", tx)
            .attr("y", ty)
            .text(yTitle)
            .attr("transform", "rotate(-90 30 100)")
     // x축 그리기
        var xScale = d3.scaleLinear().domain([gxmin,gxmax]).range([0,graphWidth])
        xgrid = xScale.ticks();
     // x축 그리드
        for (i = 1; i < xgrid.length; i++) {
          tx = margin.left + xScale(xgrid[i]);
          svg.append("line")
           .attr("x1", tx)
           .attr("x2", tx)
           .attr("y1", margin.top)
           .attr("y2", margin.top + graphHeight)
           .style("stroke", "lightgrey")
        }
        ty = margin.top + graphHeight;
        svg.append("g")
             .attr("transform","translate("+margin.left+","+ty+")")
	     .attr("class", "main axis date")
             .call(d3.axisBottom(xScale)) 

        svg.append("g")
             .attr("transform","translate("+margin.left+","+margin.top+")")
	     .attr("class", "main axis date")
             .call(d3.axisTop(xScale)) 

    // y 좌축 그리기
        var yScale = d3.scaleLinear().domain([gymin,gymax]).range([graphHeight, 0])
        ygrid = yScale.ticks();
    // Y 좌축 그리드
        for (i = 1; i < ygrid.length; i++) {
          ty = margin.top + yScale(ygrid[i]);
          svg.append("line")
           .attr("x1", margin.left)
           .attr("x2", margin.left + graphWidth)
           .attr("y1", ty)
           .attr("y2", ty)
           .style("stroke", "lightgrey")
        }
        ty = margin.top;
        svg.append("g")
             .attr("transform","translate("+margin.left+","+ty+")")
	     .attr("class", "main axis date")
             .call(d3.axisLeft(yScale)) 
    // y 우축 그리기
        var yScaleR = d3.scaleLinear().domain([gyminR,gymaxR]).range([graphHeight, 0])
        ygridR = yScaleR.ticks();
        var tx = margin.left + graphWidth;
/*
        for (i = 1; i < ygridR.length; i++) {
          ty = margin.top + yScaleR(ygridR[i]);
          svg.append("line")
           .attr("x1", margin.left)
           .attr("x2", margin.left + graphWidth)
           .attr("y1", ty)
           .attr("y2", ty)
           .style("stroke", "lightgrey")
        }
*/
        ty = margin.top;
        svg.append("g")
             .attr("transform","translate("+tx+","+ty+")")
	     .attr("class", "main axis date")
             .call(d3.axisRight(yScaleR)) 
             .style("stroke",myColor[1]) 

    // 산점도 점 그리기
    for (i=0; i<nobs; i++) {
          svg.append("circle")
             .attr("cx", margin.left+graphWidth*(xdata[i]-gxmin)/gxrange)
             .attr("cy", margin.top+graphHeight-graphHeight*(ydata[i]-gymin)/gyrange)         
             .attr("r", radius)
             .attr("class","circle")
             .style("fill","grey")
    }
    x1  = margin.left + graphWidth*(xdata[0]-gxmin)/gxrange;
    y1  = margin.top  + graphHeight - graphHeight*(ydata[0]-gymin)/gyrange;
    for (i=1; i<nobs; i++) {
      x2  = margin.left + graphWidth*(xdata[i]-gxmin)/gxrange;
      y2  = margin.top  + graphHeight - graphHeight*(ydata[i]-gymin)/gyrange;
      svg.append("line")
         .attr("x1",x1)
         .attr("y1",y1)
         .attr("x2",x2)
         .attr("y2",y2)
         .style("stroke",myColor[0]) 
      x1 = x2;
      y1 = y2;
    }
     if ( (strModel == "Autocorrelation function") ) {
      // ACF 점 그리기
      y2  = margin.top  + graphHeight - graphHeight*(0-gyminR)/gyrangeR;
      for (i=0; i<numACF-1; i++) {
          x1  = margin.left + graphWidth*(xdata[i]-gxmin)/gxrange;
          y1  = margin.top  + graphHeight - graphHeight*(yhat[i]-gyminR)/gyrangeR;
          x2  = x1;
          svg.append("line").attr("class","acf")
             .attr("x1",x1)
             .attr("y1",y1)
             .attr("x2",x2)
             .attr("y2",y2)
             .style("stroke",myColor[1])
             .style("stroke-width","6")
      }
      // r=0 x axis
      y1  = margin.top  + graphHeight - graphHeight*(0-gyminR)/gyrangeR;
      y2  = y1;
      x1  = margin.left;
      x2  = margin.left + graphWidth;
      svg.append("line").attr("class","acf")
             .attr("x1",x1)
             .attr("y1",y1)
             .attr("x2",x2)
             .attr("y2",y2)
             .style("stroke",myColor[1])
    }
    else if (strModel != "model0") {
      // Transformation 산점도 점 그리기
      for (i=ibegin; i<nobs; i++) {
          svg.append("circle")
             .attr("cx", margin.left+graphWidth*(xdata[i]-gxmin)/gxrange)
             .attr("cy", margin.top+graphHeight-graphHeight*(yhat[i]-gyminR)/gyrangeR)         
             .attr("r", radius)
             .attr("class","circle")
             .style("fill",myColor[1])
      }
      x1  = margin.left + graphWidth*(xdata[ibegin]-gxmin)/gxrange;
      y1  = margin.top  + graphHeight - graphHeight*(yhat[ibegin]-gyminR)/gyrangeR;
      for (i=ibegin+1; i<nobs; i++) {
        x2  = margin.left + graphWidth*(xdata[i]-gxmin)/gxrange;
        y2  = margin.top  + graphHeight - graphHeight*(yhat[i]-gyminR)/gyrangeR;
        svg.append("line")
           .attr("x1",x1)
           .attr("y1",y1)
           .attr("x2",x2)
           .attr("y2",y2)
           .style("stroke",myColor[1]) 
        x1 = x2;
        y1 = y2;
      }
    }
}
</script>




  <h4>B. Simple Index</h4>
  <p>

    <div class="mainTable">
       Another way to use percentages to easily characterize changes over time is to calculate an index number. 
       An <b>index</b> \(I_t\) is a number that indicates the change over time of a time series. The index number
       \(Index_t\)  of a time series at a certain point in time is the percentage of the total time series data 
       for a predetermined time point \(t_0\)  called the base period.
       $$
         Index_{t} \,=\, \frac {Y _{t}} {Y_{t_0}} \times 100  , \quad t=1,2,..., n
       $$
       The most commonly used indices in the economic field are the price index and the quantity index. 
       For example, the consumer price index is a price index indicating the price change of a set of goods 
       that can reflect the total consumer price, and the index indicating the change in total electricity 
       consumption every year is the quantity index. There are several methods of calculating the index,
       which are broadly divided into simple index number when the number of items represented by the index is one, and composite index number when there are several as in the consumer price index. 
     <p>
       [Table 13.3.2] is a simple index for the number of houses in Korea from 2010 to 2020, with the base 
       time being 2010. If you look at the figure for the index, you can see that in this case, there is no significant change from the original time series and trend. It can be seen that there is a 22.18% increase in the number of houses in 2020 compared to 2010.
     <p>
       \(\qquad Index_{2020} \,=\, \frac{Y _{2020}} {Y_{2010}} \times 100  \,=\, \frac{21673.5} {17738.8} \times 100 \,=\, 122.18    \)
     <p>
       <div class="textLeft">[Table 13.3.2] Simple Index of Number of Houses in Korea <br>(Korea National Statistical Office, unit 1000)</div>
      <p>
      <table style="width:400px"> 
        <tr> 
          <th class="thGrey" style="width:100px">Year</th>
          <th class="thGrey" style="width:150px">Number of Houses</th>
          <th class="thGrey" style="width:150px">Simple Index<br>Base: 2010</th>
        </tr>
        <tr> 
           <td class="tdCenter">
             2010<br>
             2011<br>
             2012<br>
             2013<br>
             2014<br>
             2015<br>
             2016<br>
             2017<br>
             2018<br>
             2019<br>
             2020<br>
          </td> 
           <td class="tdCenter">
             17738.8<br>
             18082.1<br>
             18414.4<br>
             18742.1<br>
             19161.2<br>
             19559.1<br>
             19877.1<br>
             20313.4<br>
             20818.0<br>
             21310.1<br>
             21673.5<br>
          </td> 
           <td class="tdCenter">
             100.00<br>
             101.94<br>
             103.81<br>
             105.66<br>
             108.02<br>
             110.26<br>
             112.05<br>
             114.51<br>
             117.36<br>
             120.13<br>
             122.18
          </td> 
        </tr>
      </table>
      <p>
      <table style="width:650px">
        <tr>
          <td>
            <input class="qrBtn" type="image" src="../../QR/eStatU340_TimeseriesTransformation.svg" onclick="window.open(addrStr[135])">
          </td>
          <td>
            <img class="imgFig600400" src="../Figure/Fig130302.png">
            <div class="figText">&lt;Figure 13.3.2&gt; Simple Index of Number of Houses in Korea</div>
          </td>
        </tr>
      </table>
     </div>
  <p>
  <h4>C. Composite Index</h4>
  <p>

    <div class="mainTable">
        <b>Composite index</b> is a method in which the change in price or quantity of several goods is set at a specific time point as the base period, and then the data at each time point is calculated as a percentage value compared to the base period. An example of the most used composite index is the consumer price index, which reflects price fluctuations of about 500 products in Korea that affect consumer prices. Other commonly used composite indices include the comprehensive stock index, which examines the price fluctuations of all listed stocks traded in the stock market.
      <p>
        For the composite index, a weighted composite index that is calculated by weighting the price of each 
        product with the quantity consumed is often used. When calculating such a weighted composite index, 
        the case where the quantity consumption at the base time is used as a weight is called the 
        <b>Laspeyres method</b>, and the case where the quantity consumption at the current time is used 
        as the weight is called the <b>Paasche method</b>. In general, the Laspeyres method of weighted composite index is widely used, and the consumer price index is a representative example. The price index of the Paasche method is used when the consumption of goods used as weights varies greatly over time, and can be used only when the consumption at each time point is known. It is expensive to examine the quantity consumption at each point in time.
      <p>
        Assuming that \(P_{1t} , \cdots , P_{kt} \) are the prices of \(k\) number of products at the time point \(t\), 
        and \(Q_{1t_0} , \cdots , Q_{kt_0} \) are the quantities of each product consumpted at the base time, 
        the formula for calculating each composite index is as follows:
      <p>
        \( \qquad \text{Laspeyres Index:} \quad  Index_t \,=\, \frac { Q_{1t_0} P_{1t} + \cdots + Q_{kt_0} P_{kt} } {Q_{1t_0} P_{1t_0}+ \cdots + Q_{kt_0} P_{kt_0} } \times 100  \) <br>
        \( \qquad \text{Paasche Index:}   \qquad Index_t \,=\, \frac { Q_{1t} P_{1t} + \cdots + Q_{kt} P_{kt} } {Q_{1t} P_{1t_0} + \cdots + Q_{kt} P_{kt_0} } \times 100      	\)
      <p>
        The data in [Table 13.3.3] shows the price and quantity of three metals by month in 2020.
      <p>
      <div class="textLeft">[Table 13.3.3]  Composite Index of three Metal Prices($/ton) and Production Quantity(ton)</div>
      <p>
      <table style="width:660px"> 
        <tr> 
          <th class="thGrey" style="width:60px"><br>Month</th>
          <th class="thGrey" style="width:150px">Copper<br>Price &nbsp;&nbsp;   Quantity</th>
          <th class="thGrey" style="width:150px">Metal <br>Price &nbsp;&nbsp;   Quantity</th>
          <th class="thGrey" style="width:150px">Lead  <br>Price &nbsp;&nbsp;   Quantity</th>
          <th class="thGrey" style="width:150px"><br>Laspeyres    Paasche</th>
        </tr>
        <tr> 
           <td class="tdCenter">
             1<br>
             2<br>
             3<br>
             4<br>
             5<br>
             6<br>
             7<br>
             8<br>
             9<br>
             10<br>
             11<br>
             12<br>
           </td> 
           <td class="tdCenter">
             1361.6  &nbsp;&nbsp;  100.7<br>
             1399.0  &nbsp;&nbsp;  &nbsp; 95.1<br>
             1483.6  &nbsp;&nbsp;  104.0<br>
             1531.6  &nbsp;&nbsp;  &nbsp; 95.6<br>
             1431.2  &nbsp;&nbsp;  103.3<br>
             1383.8  &nbsp;&nbsp;  106.9<br>
             1326.8  &nbsp;&nbsp;  &nbsp; 95.9<br>
             1328.8  &nbsp;&nbsp;  &nbsp; 96.7<br>
             1307.8  &nbsp;&nbsp;  &nbsp; 95.7<br>
             1278.4  &nbsp;&nbsp;  &nbsp; 89.1<br>
             1354.2  &nbsp;&nbsp;  100.5<br>
             1305.2  &nbsp;&nbsp;  &nbsp; 96.9<br>
          </td> 
           <td class="tdCenter">
             213  &nbsp;&nbsp;   4311<br>
             213  &nbsp;&nbsp;   4497<br>
             213  &nbsp;&nbsp;   5083<br>
             213  &nbsp;&nbsp;   5077<br>
             213  &nbsp;&nbsp;   5166<br>
             213  &nbsp;&nbsp;   4565<br>
             213  &nbsp;&nbsp;   4329<br>
             213  &nbsp;&nbsp;   4057<br>
             213  &nbsp;&nbsp;   3473<br>
             213  &nbsp;&nbsp;   3739<br>
             213  &nbsp;&nbsp;   3817<br>
             213  &nbsp;&nbsp;   3694<br>
          </td> 
           <td class="tdCenter">
             530.0  &nbsp;&nbsp;   46.1<br>
             520.0  &nbsp;&nbsp;   47.0<br>
             529.0  &nbsp;&nbsp;   51.0<br>
             540.0  &nbsp;&nbsp;   23.0<br>
             531.0  &nbsp;&nbsp;   26.5<br>
             580.0  &nbsp;&nbsp;   13.5<br>
             642.8  &nbsp;&nbsp;   27.4<br>
             602.6  &nbsp;&nbsp;   25.8<br>
             513.6  &nbsp;&nbsp;   20.5<br>
             480.8  &nbsp;&nbsp;   24.6<br>
             528.4  &nbsp;&nbsp;   21.5<br>
             462.2  &nbsp;&nbsp;   27.9<br>
          </td> 
           <td class="tdCenter">
             100.00  &nbsp;&nbsp;      100.00<br>
             100.31  &nbsp;&nbsp;      100.28<br>
             101.13  &nbsp;&nbsp;      101.01<br>
             101.63  &nbsp;&nbsp;      101.35<br>
             100.65  &nbsp;&nbsp;      100.57<br>
             100.42  &nbsp;&nbsp;      100.27<br>
             100.16  &nbsp;&nbsp;       99.98<br>
             100.00  &nbsp;&nbsp;       99.87<br>
              99.43  &nbsp;&nbsp;       99.38<br>
              99.01  &nbsp;&nbsp;       99.07<br>
              99.92  &nbsp;&nbsp;       99.92<br>
              99.18  &nbsp;&nbsp;       99.21<br>
          </td> 
         </tr>
       </table>
      <p>
        In [Table 13.3.3], the Laspeyres index for the data for February with January as the base time is as follows.
      <p>
        \( \qquad   Index_t \,=\, \frac { Q_{1t_0} P_{1t} + \cdots + Q_{kt_0} P_{kt} } {Q_{1t_0} P_{1t_0}+ \cdots + Q_{kt_0} P_{kt_0} } \times 100  \) <br>
        \( \qquad   \quad \,=\, \frac {(100.7)(1399.0)+(4311)(213)+(46.1)(520) } {(100.7)(1361.6)+(4311)(213)+(47.0)(530) } \,=\, 100  .31       	\)
      <p>
        Similarly, Paasche index is as follows:
      <p>
        \( \qquad  Index_t \,=\, \frac { Q_{1t} P_{1t} + \cdots + Q_{kt} P_{kt} } {Q_{1t} P_{1t_0} + \cdots + Q_{kt} P_{kt_0} } \times 100      	\) <br>
        \( \qquad   \quad \,=\, \frac {(95.1)(1399.0)+(4497)(213)+(47.0)(520) } {(95.1)(1361.6)+(4497)(213)+(47.0)(530) } \,=\, 100.28 \)   
      <p>
        In [Table 13.3.3], it can be seen that the production quantity of iron and lead in the last 4 quarters is significantly different from the production quantity in January, which is the base time. In this way, when the quantity fluctuates greatly and the quantity at each time is known, the Pasche index can be said to be the best index because it appropriately reflects the price change at that time.
    </div>
    <p>

    <h4>13.3.2 Time Lag and Difference</h4>

    <h6>A. Time Lag</h6>

    <div class="mainTable">
        In a time series, current data can usually be related to past data. <b>Lag</b> means a transformation for 
        comparing data of the present time and observation values ​​at one time point or a certain past time point. 
        That is, when the observed time series is \(Y_1 , Y_2 , ... , Y_n\), the time series with lag 1 becomes
        \( - , Y_1 , Y_2 , ... , Y_{n-1}\) . Note that, in case of lag k, there are no data for the first \(k\) number than the original data.
      <p>
        The correlation coefficient between the time lag data and the raw data is called the 
        <b>autocorrelation coefficient</b>. 
        If the average of time series is \(\small \overline Y\) , the k-lag autocorrelation \(r_k\) is defined as follows:
      $$ \small
        r_k =  \frac { \sum_{t = k+1}^ n (Y_t - \overline Y ) (Y_{t-k} - \overline Y ) }   { \sum _{t =1}^n (Y_t - \overline Y )^2 }, \quad k=0, 1, 2, ..., n-1
      $$
        \(r_1 , r_2 , ... , r_k \) are called an <b>autocorrelation function</b> and are used to determine a time series model.
      <p>
        [Table 13.3.4] shows the monthly consumer price index for the past two years and time lag 1 to 12 for this data, and the autocorrelation coefficients are shown in [Table 13.3.5]. &lt;Figure 13.3.3&gt; shows the original time series and the autocorrelation function.


      <p>
      <div class="textLeft">[Table 13.3.4] Monthly Consumer Price Index and Time Lag 1, Lag 2, ... Lag 12</div>
      <p>
      <table style="width:660px"> 
        <tr> 
          <th class="thGrey" style="width:60px">t</th>
          <th class="thGrey" style="width:100px">Year.Month</th>
          <th class="thGrey" style="width:100px">CPI</th>
          <th class="thGrey" style="width:100px">lag 1</th>
          <th class="thGrey" style="width:100px">lag 2</th>
          <th class="thGrey" style="width:100px"> ... </th>
          <th class="thGrey" style="width:100px">lag 12</th>
        </tr>
        <tr> 
           <td class="tdCenter">
             1<br>
             2<br>
             3<br>
             4<br>
             5<br>
             6<br>
             7<br>
             8<br>
             9<br>
             10<br>
             11<br>
             12<br>
             13<br>
             14<br>
             15<br>
             16<br>
             17<br>
             18<br>
             19<br>
             20<br>
             21<br>
             22<br>
             23<br>
             24
           </td> 
           <td class="tdCenter">
             2020.01<br>
             2020.02<br>
             2020.03<br>
             2020.04<br>
             2020.05<br>
             2020.06<br>
             2020.07<br>
             2020.08<br>
             2020.09<br>
             2020.10<br>
             2020.11<br>
             2020.12<br>
             2021.01<br>
             2021.02<br>
             2021.03<br>
             2021.04<br>
             2021.05<br>
             2021.06<br>
             2021.07<br>
             2021.08<br>
             2021.09<br>
             2021.10<br>
             2021.11<br>
             2021.12
           </td> 
           <td class="tdCenter">
             102.3<br>
             102.8<br>
             103.7<br>
             104.1<br>
             104.0<br>
             104.3<br>
             104.5<br>
             104.9<br>
             104.8<br>
             104.8<br>
             104.2<br>
             104.4<br>
             105.0<br>
             105.5<br>
             106.1<br>
             106.7<br>
             107.1<br>
             107.0<br>
             106.7<br>
             107.4<br>
             108.0<br>
             107.7<br>
             107.8<br>
             108.3
           </td> 
           <td class="tdCenter">
                  <br>
             102.3<br>
             102.8<br>
             103.7<br>
             104.1<br>
             104.0<br>
             104.3<br>
             104.5<br>
             104.9<br>
             104.8<br>
             104.8<br>
             104.2<br>
             104.4<br>
             105.0<br>
             105.5<br>
             106.1<br>
             106.7<br>
             107.1<br>
             107.0<br>
             106.7<br>
             107.4<br>
             108.0<br>
             107.7<br>
             107.8
           </td> 
           <td class="tdCenter">
                  <br>
                  <br>
             102.3<br>
             102.8<br>
             103.7<br>
             104.1<br>
             104.0<br>
             104.3<br>
             104.5<br>
             104.9<br>
             104.8<br>
             104.8<br>
             104.2<br>
             104.4<br>
             105.0<br>
             105.5<br>
             106.1<br>
             106.7<br>
             107.1<br>
             107.0<br>
             106.7<br>
             107.4<br>
             108.0<br>
             107.7
           </td>
           <td class="tdCenter">
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             ...<br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             
           </td> 
           <td class="tdCenter">
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             <br>
             102.3<br>
             102.8<br>
             103.7<br>
             104.1<br>
             104.0<br>
             104.3<br>
             104.5<br>
             104.9<br>
             104.8<br>
             104.8<br>
             104.2<br>
             104.4
          </td> 
         </tr>
       </table>
      <p>      
      <div class="textLeft">[Table 13.3.5] Autocorrelation Function</div>
      <p>
      <table style="width:300px"> 
        <tr> 
          <th class="thGrey">time </th>
          <th class="thGrey">autocorrelation</th>
        </tr>
        <tr> 
           <td class="tdCenter">
             1<br>
             2<br>
             3<br>
             4<br>
             5<br>
             6<br>
             7<br>
             8<br>
             9<br>
             10<br>
             11<br>
          </td> 
           <td class="tdCenter">
              0.8318<br>
              0.6772<br>
              0.5651<br>
              0.4479<br>
              0.3333<br>
              0.2547<br>
              0.1647<br>
              0.0755<br>
             -0.0143<br>
             -0.0854<br>
             -0.1737<br>
          </td> 
        </tr>
      </table>
      <p>
      <table style="width:650px">
        <tr>
          <td>
            <input class="qrBtn" type="image" src="../../QR/eStatU340_TimeseriesTransformation.svg" onclick="window.open(addrStr[135])">
          </td>
          <td>
            <img class="imgFig600400" src="../Figure/Fig130303.png">
            <div class="figText">&lt;Figure 13.3.3&gt; Autocorrelation Function Graph</div>
          </td>
        </tr>
      </table>
    </div>
    <p>
    <h6>B. Differencing </h6>
    <p>
    <div class="mainTable">
        Since the price index in [Table 13.3.4] has a linear trend, a model for this trend can be built, 
        but in some cases, a model can be created by changing the time series to a horizontal trend. 
        The way to transform a linear trend into a horizontal trend is to use a <b>differencing</b>. 
        When the time series is \(Y_1 , Y_2 , ... , Y_n \), the first order difference  \(▽ Y_t\)  is as follows:
      $$
          ▽ Y_t \,=\, Y_t \,-\, Y_{t-1}, \quad t=2,3,...,n
      $$
        If the raw data is a linear trend, the first-order differencing of time series is a horizontal 
        time series because it means a change in slope. If we make differencing on the first-order difference \(▽ Y_t\), 
        it becomes the second-order difference as follows:
      $$
          ▽^2 Y_t \,=\, ▽Y_t \,-\, ▽Y_{t-1} \,=\,  ( Y_t \,-\, Y_{t-1} ) - ( Y_{t-1} \,-\, Y_{t-2}), \quad t=3,4,...,n
      $$
        If the raw data has a trend with a quadratic curve, the second-order differencing of time series becomes a horizontal time series.
      <p>
        &lt;Figure 13.3.4&gt; shows the first order differencing of [Table 13.3.4] time series and it becomes horizontal series.  
      <p>
      <table style="width:650px">
        <tr>
          <td>
            <input class="qrBtn" type="image" src="../../QR/eStatU340_TimeseriesTransformation.svg" onclick="window.open(addrStr[135])">
          </td>
          <td>
            <img class="imgFig600400" src="../Figure/Fig130304.png">
            <div class="figText">&lt;Figure 13.3.4&gt; 1st Order Differencing of Consumer Price Index</div>
          </td>
        </tr>
      </table>
      <p>

    </div>
    <p>


    <!------------------------------------------------------------------------------------------------->
    <h4>13.3.3 Mathematical Transformation</h4>

    <div class="mainTable">
      If the original data of the time series is used as it is, modeling may not be easy or it may not satisfy various assumptions. In this case, we can fit the model we want by performing an appropriate functional transformation, such as log transformation. The functions commonly used for mathematical transformations are as follows.
      <p>
      \( \qquad  \text{Log function	}     \qquad\qquad \qquad   W = log(Y)   \) <br>
      \( \qquad  \text{Square root function}  \qquad\quad W = \sqrt(Y) \) <br>
      \( \qquad  \text{Square function }      \qquad\quad \qquad  W = Y^2      \) <br>
      \( \qquad  \text{Box-Cox Transformation} \quad \; W = \frac {Y^p - 1 }{p}  \) if p ≠ 0, else log(Y)
      <p>
        [Table 13.3.6] is a toy company's quarterly sales, and &lt;Figure 13.3.5&gt; is a 
        diagram of this data. It is a seasonal data by quarter, but, as time goes on, 
        dispersion of sales increases over time. It is not easy to apply a time series model
        to data with this increasing dispersion over time. In this case, log transformation 
        \(W = log(Y)\)  can reduce the dispersion as time increases, as shown in
        &lt;Figure 13.3.5&gt;, so that a model can be applied. After predicting by applying
        the model to log-transformed data, exponential transformation \(Y = exp(W)\) is 
        performed again to predict the raw data.
      <p>
      <div class="textLeft">[Table 13.3.6] Quarterly Sales of a Toy Company (unit million $)</div>
      <p>
      <table style="width:300px"> 
        <tr> 
          <th class="thGrey" style="width:60px">time</th>
          <th class="thGrey" style="width:120px">Year</th>
          <th class="thGrey" style="width:120px">Sales</th>
        </tr>
        <tr> 
           <td class="tdCenter">
             1<br>
             2<br>
             3<br>
             4<br>
             5<br>
             6<br>
             7<br>
             8<br>
             9<br>
             10<br>
             11<br>
             12<br>
             13<br>
             14<br>
             15<br>
             16<br>
             17<br>
             18<br>
             19<br>
             20<br>
           </td> 
           <td class="tdCenter">
             2017 Quarter 1<br>
             2017 Quarter 2<br>
             2017 Quarter 3<br>
             2017 Quarter 4<br>
             2018 Quarter 1<br>
             2018 Quarter 2<br>
             2018 Quarter 3<br>
             2018 Quarter 4<br>
             2019 Quarter 1<br>
             2019 Quarter 2<br>
             2019 Quarter 3<br>
             2019 Quarter 4<br>
             2020 Quarter 1<br>
             2020 Quarter 2<br>
             2020 Quarter 3<br>
             2020 Quarter 4<br>
             2021 Quarter 1<br>
             2021 Quarter 2<br>
             2021 Quarter 3<br>
             2021 Quarter 4<br>
          </td> 
           <td class="tdRight">
              38.0<br>
              53.6<br>
              57.5<br>
             200.0<br>
              56.5<br>
              75.8<br>
              78.3<br>
             269.7<br>
              70.2<br>
              92.7<br>
             101.8<br>
             332.6<br>
              97.3<br>
             123.7<br>
             132.9<br>
             429.4<br>
             138.3<br>
             167.6<br>
             189.9<br>
             545.9<br>
          </td> 
         </tr>
      </table>
      <p>
      <table style="width:650px">
        <tr>
          <td>
            <input class="qrBtn" type="image" src="../../QR/eStatU340_TimeseriesTransformation.svg" onclick="window.open(addrStr[135])">
          </td>
          <td>
            <img class="imgFig600400" src="../Figure/Fig130305.png">
            <div class="figText">&lt;Figure 13.3.5&gt; Log Transformation of Toy Sales</div>
          </td>
        </tr>
      </table>
      <p>
        The square root transform is used for a similar purpose to the log transform, and the square transform can be used when the variance decreases with time. The Box-Cox transform is a general transformation. 
    </div>
 
  <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(132)">&#10094; &nbsp;&nbsp;<b>Previous</b></button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(134)"><b>Next</b>&nbsp;&nbsp; &#10095;</button>
  <p>

</div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>
    <script>
        //document.getElementById('sidebar').getElementsByTagName('ul')[0].className += "nav nav-sidebar";
        
        /* ajust the height when click the toc
           the code is from https://github.com/twbs/bootstrap/issues/1768
        */
        var shiftWindow = function() { scrollBy(0, -50) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
        
        /*add Bootstrap styles to tables*/
        var tables = document.getElementsByTagName("table");
        for(var i = 0; i < tables.length; ++i){
            tables[i].className += "table table-bordered table-hover";
        }
    </script>

</body>
</html>

