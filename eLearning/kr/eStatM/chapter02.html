<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

  <title>2장</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="../../css/ie10-viewport-bug-workaround.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="../../css/dashboard.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
       <style type="text/css">code{white-space: pre;}</style>
       <style type="text/css">.sidebar ul{padding-left: 10px;}</style>
       <script src="../../js/prism.js"></script>
       <link rel="stylesheet" href="../../css/prism.css">
       <script src="../../js/jquery.min.js"></script>    
       <script type="text/javascript" id="MathJax-script" async
	       src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
       </script>
       <script>
	 $(document).ready(function() {
  	     toc = $("#sidebar > ul > li > ul");
  	     sections = toc.children();   // <li>
  	     for(var i=0; i<sections.length; i++) {
  		 if ($(sections[i]).children().length == 1) { continue; }
  		 var first = sections[i].firstElementChild;  // <a>
  		 var last = sections[i].lastElementChild;
  		 var li = $("<li>");
  		 var details = $("<details>");
  		 var summary = $("<summary>");
  		 $(summary).append(first)
  		 $(details).append(summary);
  		 $(details).append(last);
  		 $(li).append(details);	
  		 $(sections[i]).replaceWith(li);
  	     }
	 });
	 </script>
       <link rel="stylesheet" href="../../css/pandoc.css">
       <script src="../../js/eBook.js"></script>
       <script src="../../../eStat/js/language.js" ></script>   
       <script src="../../../eStat/lib/d3/d3.v4.min.js"></script>   
       <script src="../../../eStat/lib/d3/d3.layout.cloud.js"></script>
       <script src="../../../eStat/lib/DistributionsUtil.js" ></script>
       <script src="../../../eStat/js/eStatU.js"></script>
       <script src="../../../eStat/lib/FileSaver.min.js" ></script>
       <script src="../../../eStat/lib/convertSVG.js"></script>
</head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
  <ul class="nav navbar-nav">
    <li><a href="../../../eStat/index.html"  target="_blank">eStat</a></li>
    <li><a href="../../../eStatM/index.html" target="_blank">eStatM</a></li>
  </ul>
</nav>

<div class="container-fluid">
  <div class="row">
    <div id="sidebar" class="col-sm-3 col-md2 sidebar">
      <ul>
	<li><a href=""></a>
	  <ul>
            <li><a href="../eStatM/index.html">목차</a></li>
            <li><a href="../eStatM/chapter01.html">1. 통계</a></li>
            <li><a href="../eStatM/chapter02.html">2. 질적 자료의 그래프</a></li>
            <li><a href="../eStatM/chapter03.html">3. 양적 자료의 그래프</a></li>
            <li><a href="../eStatM/chapter04.html">4. 자료의 대푯값과 산포도</a></li>
	  </ul>
	</li>
      </ul>
    </div>
  </div>
</div>

<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">

  <!--***********************************************************************-->
  <h1>2. 질적 자료의 그래프</h1> 
  <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(141)">&#10094;&#10094; &nbsp;&nbsp;<b>1장</b></button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(143)"><b>3장</b>&nbsp;&nbsp; &#10095;&#10095;</button>
  <p>
  <table>
    <tr>
      <td style="width:350px">
        <h1>&nbsp; 📊 🍕 🌈 ⛅</h1>        
        <h4>
        <a href="#0201"><u>2.1 막대그래프 – 원그래프 – 띠그래프</u></a> <p>
        <a href="#0202"><u>2.2 꺽은선그래프</u></a> <p>
        <a href="#0203"><u>2.3 단어구름</u></a> <p>
        <a href="../eStatM/chapter02.pdf" target="_blank"><u>[2장 pdf]</u></a> 
        </h4>
      </td>
      <td>
        <h1></h1>        
        <p>- 범주형 자료인 경우에 막대그래프, 원그래프, 띠그래프를 그려 분석한다.
        <p>- 시간에 따라 측정된 자료는 꺽은선그래프를 그려 분석한다.
        <p>- 단어로 이루어진 문자 형태의 자료는 단어구름을 그려 분석한다. 
      </td>
    </tr>
  </table>
<!--
  <h6>
      <a href="https://youtu.be/FWZ2gsrYz-w" target="_blank"><u>[video]</u></a>
  </h6>
-->
  <p>

  <h3 id="0201">2.1  막대그래프 – 원그래프 – 띠그래프</h3>
  <p>
  <div class="mainTableYellow">
    <table>
      <tr>
        <td style="width:110px">
          <h4>⭐ 생각열기</h4>
        </td>
        <td style="width:450px">
          <p>
          <b>초등학교 한 학급 학생 20명을 대상으로 좋아하는 운동을 조사한 도수분포표가 다음과 같다. </b>
          <p>
          <div class="textLeft">[표 2.1] 좋아하는 운동의 도수분포표</div>
          <table> 
            <tr> <th class="thGrey">운동</th> <th class="thGrey">학생수</th> </tr>
            <tr> <td class="tdCenter">축구</td> <td class="tdCenter">8</td>    </tr>
            <tr> <td class="tdCenter">농구</td> <td class="tdCenter">4</td>    </tr>
            <tr> <td class="tdCenter">야구</td> <td class="tdCenter">5</td>    </tr>
            <tr> <td class="tdCenter">테니스</td> <td class="tdCenter">2</td>    </tr>
            <tr> <td class="tdCenter">골프</td> <td class="tdCenter">1</td>    </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td>
          <h4>💎 탐구</h4>
        </td>
        <td>
          <p>
          <b>좋아하는 운동이 어떠한 것인지 쉽게 관찰할 수 있는 그래프에는 어떠한 것이 있을까? </b>
        </td>
      </tr>
    </table>
  </div>
  <p>

  <div class="mainTable">
      <p>학생들에게 좋아하는 운동을 물으면 '축구', '농구', '야구', ... 등의 대답을 얻을 수 있는데
         이를 <b>질적 자료</b>라 한다. 대개의 질적 자료는 그 값이 범주를 의미하여 <b>범주형 자료</b>로 부르기도 한다. 
         질적 자료는 [표 2.1]과 같이 좋아하는 운동의 학생수를 세어 도수분포표로 만든 후 막대그래프, 
         원그래프, 띠그래프 등을 이용하여 그 특징을 살펴본다. 
      <p><b>막대그래프</b>는 각 범주별 자료의 도수를 직사각형 막대의 높이로 나타낸 것이다. 범주형 자료라는 것을
         강조하기 위하여 막대사이의 간격을 띄어 놓는다. 
      <p>
         <img class="imgFig600600" src="../FigureM/Fig0201.png">
         <div class="textLeft">&lt;그림 2.1&gt; 좋아하는 운동의 막대그래프</div>
      <p>
         <b>원그래프</b>는 각 범주의 도수가 전체 자료에서 차지하는 비율을 원조각으로 나누어 표시한 그래프이다. 
         비율의 비교를 잘 할 수 있도록 시계 방향으로 가장 큰 범주의 원조각부터 순서대로 차례로 그린다. 
      <p>
         <img class="imgFig600600" src="../FigureM/Fig0202.png">
         <div class="textLeft">&lt;그림 2.2&gt; 좋아하는 운동의 원그래프</div>
      <p>
         <b>띠그래프</b>는 원그래프의 변형 형태로 각 범주의 도수가 전체 자료 중에서 차지하는 비율을 
         사각형 조각으로 나누어 표시한 그래프이다. 범주의 값이 가장 큰 순서부터 정렬할 수도 있으나 원그래프와 
         구별하기 위하여 자료의 범주 순서대로 사각형 조각을 그린다.
      <p>
         <img class="imgFig600600" src="../FigureM/Fig0203.png">
         <div class="textLeft">&lt;그림 2.3&gt; 좋아하는 운동의 띠그래프</div>
      <p>
        『eStat』 소프트웨어를 이용하여 위의 그래프를 그려보자. 
  </div>
  <p>

    <!------------------------------------------------------------------------------------------------->
    <div class="mainTableGrey">
      <p><h4>🎲 실습 2.1</h4>
      『eStatM』을 이용하여 좋아하는 운동에 대해 막대그래프, 원그래프, 띠그래프를 그리고 어느 운동을 많이 좋아하는지 관찰하라
      <p><b>풀이</b>
      <p>
         다음 『eStatM』 의 화면에서 운동의 이름을 '범주'에 학생수를 '도수'에 입력하고 
         '주 제목', '세로축 제목', '가로축 제목'에 제목을 입력한다. 
      <p>[막대그래프] 버튼을 클릭하면 &lt;그림 2.1&gt;과 같은 막대그래프가 나타난다. 원하는 범주의 색을 선택하여 
         다시 [막대그래프를] 그릴 수도 있다. 
      <p>
      <!-------------  Bar/Pie/Rainbow/Band html -------------------------------------------------------------->
      <button type="button" id="eraseBarData" style="width:140px;"><b><span data-msgid="input data"></span></b></button>
      <table>
        <tr>
          <td style="text-align: right;"><b><span data-msgid="Main Title">Main Title</span></b>&nbsp;</td>
          <td colspan="3"><input type="text" size=63 id="mtitle"></td>
        </tr>
	<tr>
          <td style="text-align: right;"><b><span data-msgid="y title">y title</span></b>&nbsp;</td>
          <td><input type="text" size=20 id="ytitle"></td>
          <td style="text-align: right;"><b><span data-msgid="x title">x title</span></b>&nbsp;</td>
          <td><input type="text" size=20 id="xtitle"></td>
 	</tr>
      </table> 

      <table>
      <tbody>
	<tr>
          <td>&nbsp;</td>
	  <td style="text-align: center;"><b><span data-msgid="CategoryD">Category</span></b></td>
	  <td style="text-align: center;"><b><span data-msgid="Frequency">Frequency</span></b></td>
	  <td style="text-align: center;"><b><span data-msgid="RelativeFreq">Relative Freq.</span> %<b></td>
	  <td style="text-align: center;"><b><span data-msgid="oneColor">Color</span><b></td>
	  <td style="text-align: center;"><b><span data-msgid="Character">Emoji</span><b></td>
	</tr>
	<tr>
          <td>1&nbsp;</td>
	  <td><input type="text" size=15 id="data11"></td>
	  <td><input type="text" size=15 id="data12" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data13" style="text-align: right;"></td>
          <td><input type="color" id="data14" onclick="changeColor(1)" style="width:120px;"></td>
          <td>
             <select id="data15" onchange="changeIcon(1)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
             </select>
          </td>
	</tr>
	<tr>
          <td> 2</td>
	  <td><input type="text" size=15 id="data21"></td>
	  <td><input type="text" size=15 id="data22" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data23" style="text-align: right;"></td>
          <td><input type="color" id="data24" onclick="changeColor(2)" style="width:120px;"></td>
          <td>
            <select id="data25" onchange="changeIcon(2)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
             </select>
          </td>
	</tr>
	<tr>
          <td> 3</td>
	  <td><input type="text" size=15 id="data31"></td>
	  <td><input type="text" size=15 id="data32" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data33" style="text-align: right;"></td>
          <td><input type="color" id="data34" onclick="changeColor(3)" style="width:120px;"></td>
          <td>
            <select id="data35" onchange="changeIcon(3)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
            </select>
          </td>
	</tr>
	<tr>
          <td> 4 </td>
	  <td><input type="text" size=15 id="data41"></td>
	  <td><input type="text" size=15 id="data42" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data43" style="text-align: right;"></td>
          <td><input type="color" id="data44" onclick="changeColor(4)" style="width:120px;"></td>
          <td>
            <select id="data45" onchange="changeIcon(4)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
            </select>
          </td>
	</tr>
	<tr>
          <td> 5</td>
	  <td><input type="text" size=15 id="data51"></td>
	  <td><input type="text" size=15 id="data52" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data53" style="text-align: right;"></td>
          <td><input type="color" id="data54" onclick="changeColor(5)" style="width:120px;"></td>
          <td>
            <select id="data55" onchange="changeIcon(5)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
            </select>
          </td>
	</tr>
	<tr>
          <td> 6</td>
	  <td><input type="text" size=15 id="data61"></td>
	  <td><input type="text" size=15 id="data62" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data63" style="text-align: right;"></td>
          <td><input type="color" id="data64" onclick="changeColor(6)" style="width:120px;"></td>
          <td>
            <select id="data65" onchange="changeIcon(6)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
            </select>
          </td>
	</tr>
	<tr>
          <td> 7</td>
	  <td><input type="text" size=15 id="data71"></td>
	  <td><input type="text" size=15 id="data72" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data73" style="text-align: right;"></td>
          <td><input type="color" id="data74" onclick="changeColor(7)" style="width:120px;"></td>
          <td>
            <select id="data75" onchange="changeIcon(7)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
             </select>
          </td>
	</tr>
	<tr>
          <td> 8</td>
	  <td><input type="text" size=15 id="data81"></td>
	  <td><input type="text" size=15 id="data82" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data83" style="text-align: right;"></td>
          <td><input type="color" id="data84" onclick="changeColor(8)" style="width:120px;"></td>
          <td>
            <select id="data85" onchange="changeIcon(8)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
            </select>
          </td>
	</tr>
	<tr>
          <td> 9</td>
	  <td><input type="text" size=15 id="data91"></td>
	  <td><input type="text" size=15 id="data92" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data93" style="text-align: right;"></td>
          <td><input type="color" id="data94" onclick="changeColor(9)" style="width:120px;"></td>
          <td>
            <select id="data95" onchange="changeIcon(9)">
               <option>👨</option> <option>👩</option> <option>⚽</option> <option>🏀</option> <option>⚾</option>
               <option>🏐</option> <option>🏌</option> <option>🎾</option> <option>🖥</option> <option>📲</option> 
               <option>📚</option> <option>💰</option> <option>🛩</option> <option>🚢</option> <option>🏠</option> 
               <option>🌭</option> <option>🥕</option> <option>🥬</option> <option>🥦</option> <option>🍆</option> 
               <option>🥒</option> <option>🌽</option> <option>🍓</option> <option>🍎</option> <option>🍌</option> 
               <option>🍇</option> <option>🍊</option> <option>🍅</option> <option>🍉</option> <option>🍍</option>
               <option>🖍</option> <option>🎹</option> <option>👗</option> <option>👑</option> <option>💎</option>
               <option>🎮</option> <option>🎈</option> <option>🌟</option> <option>🌈</option> <option>⭐</option>
               <option>☀</option> <option>⌛</option> <option>⏱</option> <option>🚲</option> <option>🎡</option> 
               <option>🏰</option> <option>🪐</option> <option>🌿</option> <option>🧡</option> <option>🚲</option>
            </select>
          </td>
	</tr>
	<tr>
          <td> </td>
	  <td style="text-align: right;"><span data-msgid="Total">Sum</span> </td>
	  <td><input type="text" size=15 id="data102" style="text-align: right;"></td>
	  <td><input type="text" size=15 id="data103" style="text-align: right;"></td>
          <td><button type="button" id="defaultColor" style="width:120px;">&nbsp; <b><span data-msgid="defaultColor">Default Color</span></b></button></td>
	</tr>
      </tbody>
      </table>
      <div class="textLeft">&lt;그림 2.4&gt; 좋아하는 운동의 자료 입력</div>
      <p>
      &nbsp;&nbsp;   <button type="button" id="executeBar" style="width:140px;">    <b><span data-msgid="Bar Graph">Bar Graph</span></b></button>
      &nbsp;&nbsp;   <button type="button" id="executePie" style="width:140px;" >   <b><span data-msgid="Pie Chart">Pie graph</span></b></button> 
      &nbsp;&nbsp;   <button type="button" id="executeRainbow" style="width:140px;"><b><span data-msgid="Rainbow Chart">Rainbow graph</span></b></button>
      &nbsp;&nbsp;   <button type="button" id="executeBand" style="width:140px;">   <b><span data-msgid="Band Graph">Band Graph</span></b></button>
      <p>
      <svg id="chart" width="750" height="540" style="border-style:solid;"> </svg> 
      <form action="#" name="myForm2" class="option-group">
        <button type="button" id="saveGraphU" >
	  <span data-msgid="Graph Save">Graph Save</span>
        </button>&nbsp;&nbsp;
        <label>&nbsp;&nbsp;<input type="checkbox" id="showicon"><span data-msgid="Character"> Emoji</span></label>
        <label>&nbsp;&nbsp;<input type="checkbox" id="showfreq"><span data-msgid="Frequency"> Frequency</span></label>
        &nbsp;&nbsp;&nbsp;(<span data-msgid="Sorting">Sorting</span>)&nbsp;
        <input type="radio" name = "type2" value="1" id="raw" checked><span data-msgid="Raw Data">  Raw</span> &nbsp;
        <input type="radio" name = "type2" value="2" id="descend">    <span data-msgid="Descending"> Descending</span> &nbsp;
        <input type="radio" name = "type2" value="3" id="ascend">     <span data-msgid="Ascending"> Ascending</span>
      </form>
      <p>
          제일 오른쪽에 각 운동별 아이콘을 선택하고 그래프 아래의 
         '이모티콘'을 체크하면 &lt;그림 2.5&gt;와 같은 그래프가 나타난다.   
      <p>
            <img class="imgFig600600" src="../FigureM/Fig0205.png">
            <div class="textLeft">&lt;그림 2.5&gt; 각 범주의 이모티콘이 표시된 막대그래프 </div>
      <p>
            '도수'를 체크하면 막대 위에 &lt;그림 2.6&gt;과 같이 도수를 표시할 수도 있다.
      <p>
            <img class="imgFig600600" src="../FigureM/Fig0206.png">
            <div class="textLeft">&lt;그림 2.6&gt; 도수가 표시된 막대그래프</div>
      <p>
           그래프 아래 (정렬) 선택사항을 이용하여 &lt;그림 2.7&gt; &lt;그림 2.8&gt;처럼 막대를 도수의 내림차순 또는 오름차순으로 정렬할 수 있다. 
      <p>
            <img class="imgFig600600" src="../FigureM/Fig0207.png">
            <div class="textLeft">&lt;그림 2.7&gt; 도수의 내림차순 막대그래프 </div>
      <p>
            <img class="imgFig600600" src="../FigureM/Fig0208.png">
            <div class="textLeft">&lt;그림 2.8&gt; 도수의 오름차순 막대그래프 </div>
      <p>
          [원그래프] 버튼을 클릭하면 &lt;그림 2.2&gt;와 같은 원그래프가 나타난다. 
      <p>
          [무지개그래프] 버튼을 클릭하면 &lt;그림 2.3&gt;과 같은 무지개그래프가 나타난다. 
      <p>
          [띠그래프] 버튼을 클릭하면 &lt;그림 2.4&gt;와 같은 띠그래프가 나타난다. 
      <p>
    </div>
    <!------------------------------------------------------------------------------------------------->
    <p>

  <!-------------  Bar/Pie/Rainbow/Band script -------------------------------------------------------------->
  <script>
      setLanguage('ko');
      var chart = d3.select("#chart");
      var svgWidth, svgHeight, margin, graphWidth, graphHeight;
      margin = {top:90, bottom:50, left:90, right:80};
      svgWidth    = 750;
      svgHeight   = 540;
      graphWidth  = svgWidth - margin.left - margin.right;
      graphHeight = svgHeight - margin.top - margin.bottom;

      var i, j, k, nobs, nrow, num, ndvalue; 
      var gxmin, gxmax, gymin, gymax, temp, freqMax;
      var mTitle, yTitle, xTitle;
      var checkIcon = false;
      var checkFreq = false;
      var checkInput = false;
      var catgMax = 9;
      var fontsize = "1em";
      var strPath;
      var colr = ["#FF0000","#FF8000","#FFFF00","#32CD32","#00FFFF","#BF00FF","#FF00FF","#0080FF","#00BFFF"];
      var catg  = new Array(catgMax);
      var freq  = new Array(catgMax);
      var perc  = new Array(catgMax);
      var dcolr = new Array(catgMax);
      var ncolr = new Array(catgMax);
      var dicon = ["👨","👩","⚽","🏀","⚾","🏐","🏌","🎾","🖥","📲",
                   "📚","💰","🛩","🚢","🏠","🌭","🥕","🥬","🥦","🍆",
                   "🥒","🌽","🍓","🍎","🍌","🍇","🍊","🍅","🍉","🍍",
                   "🖍","🎹","👗","👑","💎","🎮","🎈","🌟","🌈","⭐",
                   "☀","⌛","⏱","🚲","🎡","🏰","🪐","🌿","🧡","🚲"];
      var nicon = new Array(catgMax);
      for (i=1; i<catgMax; i++) nicon[i] = 0;

      var dvalueLabel = new Array(catgMax);
      var dataSet     = new Array(catgMax);
      var indexA      = new Array(catgMax);
      var indexD      = new Array(catgMax);

      document.getElementById("data13").disabled = true;
      document.getElementById("data23").disabled = true;
      document.getElementById("data33").disabled = true;
      document.getElementById("data43").disabled = true;
      document.getElementById("data53").disabled = true;
      document.getElementById("data63").disabled = true;
      document.getElementById("data73").disabled = true;
      document.getElementById("data83").disabled = true;
      document.getElementById("data93").disabled = true;
      document.getElementById("data102").disabled = true;
      document.getElementById("data103").disabled = true;
      defaultColor();
      document.getElementById("ytitle").value = svgStr[16][langNum];

      initBarExample();

      // default Color 버튼 클릭
      d3.select("#defaultColor").on("click", function() {
        defaultColor();
      })
      function defaultColor () {
        document.getElementById("data14").value = colr[0];
        document.getElementById("data24").value = colr[1];
        document.getElementById("data34").value = colr[2];
        document.getElementById("data44").value = colr[3];
        document.getElementById("data54").value = colr[4];
        document.getElementById("data64").value = colr[5];
        document.getElementById("data74").value = colr[6];
        document.getElementById("data84").value = colr[7];
        document.getElementById("data94").value = colr[8];
       }
      // Erase Bar Data ======================================
      d3.select("#eraseBarData").on("click",function() {
        document.getElementById("showicon").disabled = false;
        document.getElementById("showfreq").disabled = false;
        document.getElementById("raw").disabled      = false;
        document.getElementById("raw").checked       = true;
        document.getElementById("descend").disabled  = false;
        document.getElementById("ascend").disabled   = false;
        chart.selectAll("*").remove();
        // title
        document.getElementById("mtitle").value = "";
        document.getElementById("ytitle").value = "";
        document.getElementById("xtitle").value = "";
        // category
        document.getElementById("data11").value = "";
        document.getElementById("data21").value = "";
        document.getElementById("data31").value = "";
        document.getElementById("data41").value = "";
        document.getElementById("data51").value = "";
        document.getElementById("data61").value = "";
        document.getElementById("data71").value = "";
        document.getElementById("data81").value = "";
        document.getElementById("data91").value = "";
        // freq data
        document.getElementById("data12").value = "";
        document.getElementById("data22").value = "";
        document.getElementById("data32").value = "";
        document.getElementById("data42").value = "";
        document.getElementById("data52").value = "";
        document.getElementById("data62").value = "";
        document.getElementById("data72").value = "";
        document.getElementById("data82").value = "";
        document.getElementById("data92").value = "";
        // relative freq data
        document.getElementById("data13").value = "";
        document.getElementById("data23").value = "";
        document.getElementById("data33").value = "";
        document.getElementById("data43").value = "";
        document.getElementById("data53").value = "";
        document.getElementById("data63").value = "";
        document.getElementById("data73").value = "";
        document.getElementById("data83").value = "";
        document.getElementById("data93").value = "";
        document.getElementById("data102").value = "";
        document.getElementById("data103").value = "";
        // initial icon
        document.getElementById("data15").selectedIndex = 0;
        document.getElementById("data25").selectedIndex = 0;
        document.getElementById("data35").selectedIndex = 0;
        document.getElementById("data45").selectedIndex = 0;
        document.getElementById("data55").selectedIndex = 0;
        document.getElementById("data65").selectedIndex = 0;
        document.getElementById("data75").selectedIndex = 0;
        document.getElementById("data85").selectedIndex = 0;
        document.getElementById("data95").selectedIndex = 0;
        defaultColor();
      })
      // Draw Bar Graph ======================================
      d3.select("#executeBar").on("click",function() {
        document.getElementById("showicon").disabled = false;
        document.getElementById("showfreq").disabled = false;
        document.getElementById("raw").disabled      = false;
        document.getElementById("raw").checked       = true;
        document.getElementById("descend").disabled  = false;
        document.getElementById("ascend").disabled   = false;
        initialize();
        if (checkInput) return;
        drawBarGraph(nrow, dataSet, dvalueLabel, dcolr, freqMax, checkFreq);
      })
      // Draw Pie Chart ======================================
      d3.select("#executePie").on("click",function() {
        document.getElementById("showicon").disabled = true;
        document.getElementById("showfreq").disabled = true;
        document.getElementById("raw").disabled      = true;
        document.getElementById("descend").disabled  = true;
        document.getElementById("ascend").disabled   = true;
        initialize();
        if (checkInput) return;
        drawPieChart(nrow, perc, catg, freqMax);
      })
      // Draw Rainbow Chart ======================================
      d3.select("#executeRainbow").on("click",function() {
        document.getElementById("showicon").disabled = true;
        document.getElementById("showfreq").disabled = true;
        document.getElementById("raw").disabled      = true;
        document.getElementById("descend").disabled  = true;
        document.getElementById("ascend").disabled   = true;
        initialize();
        if (checkInput) return;
        drawRainbowChart(nrow, freq, catg, freqMax);
      })
      // Draw Band Graph ======================================
      d3.select("#executeBand").on("click",function() {
        document.getElementById("showicon").disabled = true;
        document.getElementById("showfreq").disabled = true;
        document.getElementById("raw").disabled      = true;
        document.getElementById("descend").disabled  = true;
        document.getElementById("ascend").disabled   = true;
        initialize();
        if (checkInput) return;
        drawBandGraph(nrow, freq, catg, freqMax);
      })
      // 초기 예제
      function initBarExample() {
        document.getElementById("mtitle").value = "좋아하는 운동";
        document.getElementById("ytitle").value = "도수";
        document.getElementById("xtitle").value = "운동";
        document.getElementById("data11").value = "축구";
        document.getElementById("data21").value = "농구";
        document.getElementById("data31").value = "야구";
        document.getElementById("data41").value = "테니스";
        document.getElementById("data51").value = "골프";
        document.getElementById("data12").value = 8;
        document.getElementById("data22").value = 4;
        document.getElementById("data32").value = 5;
        document.getElementById("data42").value = 2;
        document.getElementById("data52").value = 1;
        document.getElementById("data15").selectedIndex = 2;
        document.getElementById("data25").selectedIndex = 3;
        document.getElementById("data35").selectedIndex = 4;
        document.getElementById("data45").selectedIndex = 7;
        document.getElementById("data55").selectedIndex = 6;
      }
      // 초기 작업
      function initialize() {
        chart.selectAll("*").remove();
        // title
        mTitle = d3.select("#mtitle").node().value;
        yTitle = d3.select("#ytitle").node().value;
        xTitle = d3.select("#xtitle").node().value;
        if (yTitle == "") yTitle = svgStr[16][langNum];
        // category
        catg[0] = d3.select("#data11").node().value;
        catg[1] = d3.select("#data21").node().value;
        catg[2] = d3.select("#data31").node().value;
        catg[3] = d3.select("#data41").node().value;
        catg[4] = d3.select("#data51").node().value;
        catg[5] = d3.select("#data61").node().value;
        catg[6] = d3.select("#data71").node().value;
        catg[7] = d3.select("#data81").node().value;
        catg[8] = d3.select("#data91").node().value;
        // freq data
        freq[0] = parseFloat(d3.select("#data12").node().value);
        freq[1] = parseFloat(d3.select("#data22").node().value);
        freq[2] = parseFloat(d3.select("#data32").node().value);
        freq[3] = parseFloat(d3.select("#data42").node().value);
        freq[4] = parseFloat(d3.select("#data52").node().value);
        freq[5] = parseFloat(d3.select("#data62").node().value);
        freq[6] = parseFloat(d3.select("#data72").node().value);
        freq[7] = parseFloat(d3.select("#data82").node().value);
        freq[8] = parseFloat(d3.select("#data92").node().value);
        // get new color
        ncolr[0] = d3.select("#data14").node().value;
        ncolr[1] = d3.select("#data24").node().value;
        ncolr[2] = d3.select("#data34").node().value;
        ncolr[3] = d3.select("#data44").node().value;
        ncolr[4] = d3.select("#data54").node().value;
        ncolr[5] = d3.select("#data64").node().value;
        ncolr[6] = d3.select("#data74").node().value;
        ncolr[7] = d3.select("#data84").node().value;
        ncolr[8] = d3.select("#data94").node().value;
        // get new icon
        nicon[0] = document.getElementById("data15").selectedIndex;
        nicon[1] = document.getElementById("data25").selectedIndex;
        nicon[2] = document.getElementById("data35").selectedIndex;
        nicon[3] = document.getElementById("data45").selectedIndex;
        nicon[4] = document.getElementById("data55").selectedIndex;
        nicon[5] = document.getElementById("data65").selectedIndex;
        nicon[6] = document.getElementById("data75").selectedIndex;
        nicon[7] = document.getElementById("data85").selectedIndex;
        nicon[8] = document.getElementById("data95").selectedIndex;

        // 도수 입력한 행의 수 카운트
        nrow = 0;
        for (i=0; i<catgMax; i++) { // 입력 행의 수
            if (!isNaN(freq[i]) ) nrow = i+1;
        }
        // 입력행이 하나 이상인지 체크
        if (nrow < 2 ) {
          checkInput = true;
          chart.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
             .text(alertMsg[46][langNum]).style("stroke","red").style("font-size",fontsize);
          return;
        }
        for (i=0; i<nrow; i++) {
            if (isNaN(freq[i]) ) { //문자 데이터 체크
              checkInput = true;
              chart.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
                   .text(alertMsg[47][langNum]).style("stroke","red").style("font-size",fontsize);
              return;
            }
        }
        checkInput = false;
        // 입력값 합계, 최대도수 계산
        ntot = 0;
        freqMax = 0;
        for (i=0; i<nrow; i++) { 
            ntot += freq[i];
            if (freq[i] > freqMax) freqMax = freq[i];
            dvalueLabel[i-1] = catg[i]
        }
        // 상대도수 계산
        for (i=0; i<nrow; i++) { 
            perc[i] = 100 * freq[i] / ntot;
            temp = "data"+(i+1).toString()+"3";
            document.getElementById(temp).value = f1(perc[i]);
        }
        // 원자료 복사
        for (i=0; i<nrow; i++) {
          dataSet[i]     = freq[i];
          dvalueLabel[i] = catg[i];
          dcolr[i]       = ncolr[i];
        }
        // Sort index
        sortIndex(nrow, freq, indexA, indexD)
        document.getElementById("data102").value = ntot;
        document.getElementById("data103").value = f1(100);
      }
      // 막대그래프 이모티표시 버튼 클릭
      d3.select("#showicon").on("click", function() {
        if (this.checked) {
            checkIcon = true;
            drawBarGraph(nrow, dataSet, dvalueLabel, dcolr, freqMax, checkFreq);
        } else {
            checkIcon = false;
            removeIcon();
        }
      })
      // 막대그래프 도수표시 버튼 클릭
      d3.select("#showfreq").on("click", function() {
        if (this.checked) {
            checkFreq = true;
            drawBarGraph(nrow, dataSet, dvalueLabel, dcolr, freqMax, checkFreq);
        } else {
            checkFreq = false;
            removeFreq();
        }
      })      // 그룹이 없을 경우 막대그래프 내림차순, 올림차순 버튼
      var rad2 = document.myForm2.type2;
      rad2[0].onclick = function() { // 원자료
        chart.selectAll("*").remove();
        for (i=0; i<nrow; i++) {
          dataSet[i]     = freq[i];
          dvalueLabel[i] = catg[i];
          dcolr[i]       = ncolr[i];
        }
        drawBarGraph(nrow, dataSet, dvalueLabel, dcolr, freqMax, checkFreq);
      }
      rad2[1].onclick = function() { // 내림차순
        chart.selectAll("*").remove();
        for (i=0; i<nrow; i++) {
          dataSet[i]     = freq[indexD[i]];
          dvalueLabel[i] = catg[indexD[i]];
          dcolr[i]       = ncolr[indexD[i]];
        }
        drawBarGraph(nrow, dataSet, dvalueLabel, dcolr, freqMax, checkFreq);
      }
      rad2[2].onclick = function() { // 올림차순
        chart.selectAll("*").remove();
        for (i=0; i<nrow; i++) {
          dataSet[i]     = freq[indexA[i]];
          dvalueLabel[i] = catg[indexA[i]];
          dcolr[i]       = ncolr[indexA[i]];
        }
        drawBarGraph(nrow, dataSet, dvalueLabel, dcolr, freqMax, checkFreq);
      }

      // svg Graph Save
      d3.select("#saveGraphU").on("click", function() {
        var svg = d3.select("#chart");
        var width = svgWidth;
        var height = svgHeight;
        var svgString = getSVGString(svg.node());
        svgString2Image(svgString, width, height, 'png', save);
        function save(dataBlob, filesize) {
          saveAs(dataBlob, 'eStatGraphU.png');
        }
      });
 
  // Change Color
  function changeColor(num){
      var strid;
      switch (num) {
        case 1: strid = "data14"; break;
        case 2: strid = "data24"; break;
        case 3: strid = "data34"; break;
        case 4: strid = "data44"; break;
        case 5: strid = "data54"; break;
        case 6: strid = "data64"; break;
        case 7: strid = "data74"; break;
        case 8: strid = "data84"; break;
        case 9: strid = "data94"; break;
      }
      ncolr[num-1] = document.getElementById(strid).value ;
  }
  // Change Icon
  function changeIcon(num){
      var strid;
      switch (num) {
        case 1: strid = "data15"; break;
        case 2: strid = "data25"; break;
        case 3: strid = "data35"; break;
        case 4: strid = "data45"; break;
        case 5: strid = "data55"; break;
        case 6: strid = "data65"; break;
        case 7: strid = "data75"; break;
        case 8: strid = "data85"; break;
        case 9: strid = "data95"; break;
      }
      nicon[num-1] = document.getElementById(strid).selectedIndex;
  }
  // Draw Bar Graph
  function drawBarGraph(ndvalue, dataSet, dvalueLabel, dcolr, freqMax, checkFreq) {
    var i, j, str, tx, ty;
    var betweenbarWidth = graphWidth / ndvalue; // 막대와 막대 사이의 너비
    var barWidth = betweenbarWidth * 0.6; // 막대의 너비
    var gapWidth = betweenbarWidth * 0.2;
    var ybuffer  = graphHeight * 0.1;
    var yheight  = graphHeight * 0.8;
    var freqRatioV = yheight / freqMax; // 그래프 영역과 데이터 영역의 비율
    var iconsize = barWidth / 2;
    drawTitle(mTitle, yTitle, xTitle);
    drawLabel(ndvalue, dvalueLabel, betweenbarWidth, barWidth, gapWidth);
    drawAxis(freqMax, graphHeight);

    // x축 위 선
    y1 = margin.top;
    chart.append("line")
         .attr("class", "line")
         .attr("x1", margin.left)
         .attr("x2", margin.left + graphWidth)
         .attr("y1", y1)
         .attr("y2", y1)
         .style("stroke", "black")
    // x축 선
    y1 = margin.top + graphHeight;
    chart.append("line")
         .attr("class", "line")
         .attr("x1", margin.left)
         .attr("x2", margin.left + graphWidth)
         .attr("y1", y1)
         .attr("y2", y1)
         .style("stroke", "black")
    // 막대
    for (j=0; j<ndvalue; j++) {
      chart.append("rect")
           .attr("class", "bar")
           .style("fill", dcolr[j])
           .attr("height", 0)
           .attr("width", barWidth)
           .attr("x", margin.left + gapWidth + j * betweenbarWidth)
           .attr("y", margin.top + graphHeight)
           .transition() // 애니매이션 효과 지정
           .delay(function(d, i) {return i * 500;}) // 0.5초마다 그리도록 대기시간 설정
           .duration(2000) // 2초동안 애니매이션이 진행되도록 설정
           .attr("y", margin.top + graphHeight - dataSet[j] * freqRatioV)
           .attr("height", dataSet[j] * freqRatioV);
    }

    if (checkFreq) {
        showFreq(ndvalue, dataSet, freqMax, freqRatioV, gapWidth, barWidth, betweenbarWidth);
    }
    // icon 그리기
    if (checkIcon) {
      for (j = 0; j < ndvalue; j++) {
        chart.append("text")
             .attr("class", "iconfont")
             .style("font-size", iconsize)
             .style("stroke", dcolr[i])
             .style("text-align", "center")
             .attr("x", margin.left + gapWidth + barWidth / 4 + j * betweenbarWidth)
             .attr("y", margin.top + graphHeight - dataSet[j] * freqRatioV - 10)
             .text(dicon[nicon[j]]);
      }
    }

  }

  // 분리형 막대그래프 도수 쓰기 함수
  function showFreq(ndvalue, dataSet, freqMax, freqRatioV, gapWidth, barWidth, betweenbarWidth) {
    for (var j = 0; j < ndvalue; j++) {
      if (dataSet[i] == 0) continue;
      chart.append("text")
           .style("text-anchor", "middle")
           .style("font-size", "0.8em")
           .attr("x", margin.left + gapWidth + barWidth / 2 + j * betweenbarWidth)
           .attr("y", margin.top + graphHeight - dataSet[j] * freqRatioV + 15)
           .text(dataSet[j]);
    }
  }

  // 아이콘 제거 함수
  function removeIcon() {
    chart.selectAll("text.iconfont").remove();
  }
  // 막대그래프 도수 제거 함수
  function removeFreq() {
    chart.selectAll("text.freqfont").remove();
  }

  // Sorting and find index
  function sortIndex(dobs, data, indexA, indexD) {
    var i, j, temp, tempi;
    var tdata = new Array(dobs);
    // Ascending index
    for (i = 0; i < dobs; i++) {
      tdata[i]  = data[i];
      indexA[i] = i;
    }
    for (i = 0; i < dobs - 1; i++) {
        for (j = i; j < dobs; j++) {
            if (tdata[i] > tdata[j]) {
                temp      = tdata[i];
                tempi     = indexA[i];
                tdata[i]  = tdata[j];
                indexA[i] = indexA[j];
                tdata[j]  = temp;
                indexA[j] = tempi;
            }
        }
    }
    // Descending index
    for (i = 0; i < dobs; i++) {
      tdata[i]  = data[i];
      indexD[i] = i;
    }
    for (i = 0; i < dobs - 1; i++) {
        for (j = i; j < dobs; j++) {
            if (tdata[i] < tdata[j]) {
                temp      = tdata[i];
                tempi     = indexD[i];
                tdata[i]  = tdata[j];
                indexD[i] = indexD[j];
                tdata[j]  = temp;
                indexD[j] = tempi;
            }
        }
    }
  }
  // 그래프 제목 쓰기 함수
  function drawTitle(mTitle, yTitle, xTitle) {
    // 주제목
    chart.append("text")
        .attr("x", margin.left + graphWidth/2)
        .attr("y", margin.top / 2 + 10)
        .style("font-size", "1.8em")
        .style("font-family", "sans-seirf")
        .style("stroke", "black")
        .style("text-anchor", "middle")
        .text(mTitle)
    // X축 제목
    chart.append("text")
            .style("font-size", fontsize)
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "middle")
            .attr("x", margin.left + graphWidth / 2)
            .attr("y", margin.top + graphHeight + margin.bottom / 2 + 15)
            .text(xTitle)
     // Y축 제목
     var tx = margin.left / 2 - 30;
     var ty = margin.top + 15;
     chart.append("text")
            .style("font-size", fontsize)
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "end")
            .attr("x", tx)
            .attr("y", ty)
            .text(yTitle)
            .attr("transform", "rotate(-90 30 100)")
  }
  // 변량값명 쓰기 함수
  function drawLabel(ndvalue, label, betweenbarWidth, barWidth, gapWidth) {
    var i, j, k, x1, y1, tx, ty, str, strAnchor;
    var angle;
    ty = margin.top + graphHeight;
    angle = 0;
    str = "middle";
    y1 = ty + 20;
 
    for (j = 0; j < ndvalue; j++) {
      tx = margin.left + gapWidth + barWidth / 2 + j * betweenbarWidth;
      x1 = margin.left + gapWidth + barWidth / 2 + j * betweenbarWidth;
      chart.append("line") // tick
                    .attr("x1", tx)
                    .attr("x2", tx)
                    .attr("y1", ty)
                    .attr("y2", ty + 5)
                    .style("stroke", "black")
                    .style("stroke-width", "0.5")
      chart.append("text")
                    .style("text-anchor", str)
                    .style("font-family", "sans-serif")
                    .style("font-size", fontsize)
                    .attr("x", x1)
                    .attr("y", y1)
                    .attr("transform", "rotate(" + angle + "," + x1 + "," + y1 + ")  ")
                    .text(label[j])
    }
  }

  // 막대그래프 축 그리기
  function drawAxis(freqMax, height) {
    var tx, ty;
    var xScale, yScale;
    var ygrid    = new Array(catgMax);

    yScale = d3.scaleLinear().domain([0, freqMax/0.8]).range([height, 0]);
    ygrid = yScale.ticks();
    tx = margin.left;
    ty = margin.top;
    chart.append("g")
         .attr("transform", "translate(" + tx + "," + ty + ")")
         .call(d3.axisLeft(yScale)) // 눈금을 표시할 함수 호출
    // Y축 그리드
    for (i = 1; i < ygrid.length; i++) {
      ty = margin.top + yScale(ygrid[i]);
      chart.append("line")
           .attr("x1", margin.left)
           .attr("x2", margin.left + graphWidth)
           .attr("y1", ty)
           .attr("y2", ty)
           .style("stroke", "lightgrey")
    }
    chart.append("line").attr("class", "line")
                    .attr("x1", margin.left)
                    .attr("x2", margin.left)
                    .attr("y1", margin.top)
                    .attr("y2", margin.top + graphHeight)
                    .style("stroke", "black")
    chart.append("line").attr("class", "line")
                    .attr("x1", margin.left + graphWidth)
                    .attr("x2", margin.left + graphWidth)
                    .attr("y1", margin.top)
                    .attr("y2", margin.top + graphHeight)
                    .style("stroke", "black")

     //   tx = margin.left + graphWidth;
     //   chart.append("g")
     //        .attr("transform","translate("+tx+","+ty+")")
     //        .call(d3.axisRight(yScale))             // 눈금을 표시할 함수 호출
  }


  // 원그래프 함수 --------------------------------------------------------------
  function drawPieChart(ndvalue, datafreq, dvalueLabel, freqMax) {
    var i, j, tx, ty, str;
    var radiusIn, radiusOut;
    radiusIn = 0;
    radiusOut = graphHeight / 2;
    var tdata = new Array(ndvalue);
    for (i=0; i<ndvalue; i++) tdata[i] = 100*datafreq[i];    

    var pie = d3.pie();
    var arc = d3.arc().innerRadius(radiusIn).outerRadius(radiusOut);
    // 주제목
    chart.append("text")
        .attr("x", margin.left + graphWidth/2)
        .attr("y", margin.top / 2 + 10)
        .style("font-size", "1.8em")
        .style("font-family", "sans-seirf")
        .style("stroke", "black")
        .style("text-anchor", "middle")
        .text(mTitle)
    tx = margin.left + graphWidth / 2;
    ty = margin.top + graphHeight / 2;
    var piechart = chart.append("g")
            .attr("class", "piechart")
    var pieSlice = piechart.selectAll("g")
            .data(pie(tdata))
            .enter()
            .append("g")
            .attr("transform", "translate(" + tx + "," + ty + ")")
    pieSlice.append("path")
            .attr("class", "pie")
            .attr("d", arc)
            .style("fill", function(d, i) {
                return ncolr[i];
            })
            .transition()
            .delay(function(d, i) {
                return i * 200;
            })
            .duration(1000)
            //  .easeLinear(0.5)
            .attrTween("d", function(d, i) {
                var interpolate = d3.interpolate({
                    startAngle: d.startAngle,
                    endAngle: d.startAngle
                }, {
                    startAngle: d.startAngle,
                    endAngle: d.endAngle
                });
                return function(t) {
                    return arc(interpolate(t));
                }
            })
    pieSlice.append("text")
            .style("font-size", "1.1em")
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "middle")
            .attr("transform", function(d, i) {
                return "translate(" + arc.centroid(d) + ")";
            })
            .text(function(d, i) {
                return dvalueLabel[i] + ": " + f1(d.value)+"%";
            })
  }

  // 무지개그래프 함수
  function drawRainbowChart(ndvalue, datafreq, dvalueLabel, freqMax) {
    var i, j, k, sum, tx, ty, tr, str;
    var tratio     = new Array(ndvalue);
    var bandWidth  = new Array(ndvalue);
    var bandX      = new Array(ndvalue);
    var oneLine    = 30; // pixel
    var bandHeight = graphHeight * 0.75;
    // 전체 그래프 영역 지우기 1px 문제
    chart.append("rect")
             .attr("x", margin.left)
             .attr("y", margin.top)
             .attr("width", graphWidth) // 최초 막대의 너비를 0 px 로 지정
             .attr("height", graphHeight)
             .style("fill", "white")
    // 주제목
    chart.append("text")
         .attr("x", margin.left + graphWidth/2)
         .attr("y", margin.top / 2 + 10)
         .style("font-size", "1.8em")
         .style("font-family", "sans-seirf")
         .style("stroke", "black")
         .style("text-anchor", "middle")
         .text(mTitle)

    sum = 0;
    for (i = 0; i < ndvalue; i++) {
            sum += datafreq[i];
    }
    for (i = 0; i < ndvalue; i++) {
            tratio[i] = 100 * datafreq[i] / sum;
            bandWidth[i] = Math.floor(0.5 + graphWidth * datafreq[i] / sum);
    }
    bandX[0] = 10;
    for (i = 1; i < ndvalue; i++) {
            bandX[i] = bandX[i - 1] + bandWidth[i - 1];
    }
    ty = margin.top + 10; 
    t2 = ty + bandHeight + oneLine;
    chart.append("text")
         .attr("x", margin.left)
         .attr("y", t2)
         .text(svgStr[119][langNum])
         .style("font-size", fontsize)
         .style("font-family", "sans-seirf")
         .style("text-anchor", "end")
         .style("stroke", "black")
    chart.append("text")
         .attr("x", margin.left)
         .attr("y", t2 + oneLine)
         .text(svgStr[16][langNum])
         .style("font-size", fontsize)
         .style("font-family", "sans-seirf")
         .style("text-anchor", "end")
         .style("stroke", "black")
    chart.append("text")
         .attr("x", margin.left)
         .attr("y", t2 + 2*oneLine)
         .text(svgStr[17][langNum])
         .style("font-size", fontsize)
         .style("font-family", "sans-seirf")
         .style("text-anchor", "end")
         .style("stroke", "black")
    // draw rainbow
    tx = margin.left + graphWidth / 2;
    ty = margin.top + bandHeight ;
    k  = svgHeight - ty;
    for (j = 0; j < ndvalue; j++) {
        tr = (graphWidth - bandX[j]) / 2; 
        chart.append("circle")
             .attr("cx", tx)
             .attr("cy", ty)
             .attr("r",  0)
             .transition() // 애니매이션 효과 지정
                .delay(function(d, i) {
                     return i * 500;
                 }) // 0.5초마다 그리도록 대기시간 설정
                .duration(2000) // 2초동안 애니매이션이 진행되도록 설정
             .attr("r",  tr)
             .style("fill", ncolr[j])
    }
    // 아래 반원 지우기
    chart.append("rect")
             .attr("x", margin.left)
             .attr("y", ty)
             .attr("width", graphWidth) // 최초 막대의 너비를 0 px 로 지정
             .attr("height", k)
             .style("fill", "white")
    // 도수 쓰기
    for (j = 0; j < ndvalue; j++) {
        tx = bandX[j] + bandWidth[j] / 2;
        str = dvalueLabel[j];
        chart.append("text")
             .attr("x", tx)
             .attr("y", t2)
             .text(dvalueLabel[j])
             .style("font-size", fontsize)
             .style("font-family", "sans-seirf")
             .style("text-anchor", "middle")
             .style("stroke", ncolr[j])
        chart.append("text")
             .attr("x", tx)
             .attr("y", t2 + oneLine)
             .text(datafreq[j])
             .style("font-size", fontsize)
             .style("font-family", "sans-seirf")
             .style("text-anchor", "middle")
             .style("stroke","black")
        chart.append("text")
             .attr("x", tx)
             .attr("y", t2 + 2*oneLine)
             .text(f1(tratio[j]) + "%")
             .style("font-size", "1em")
             .style("font-family", "sans-seirf")
             .style("text-anchor", "middle")
             .style("stroke", "black")
    }

  }
  // 띠그래프 함수
  function drawBandGraph(ndvalue, datafreq, dvalueLabel, freqMax) {
    var i, j, k, sum, tx, ty, t2, str;
    var tratio     = new Array(ndvalue);
    var bandWidth  = new Array(ndvalue);
    var bandX      = new Array(ndvalue);
    var oneLine    = 30; // pixel
    var bandHeight = graphHeight * 0.75;

    // 주제목
    chart.append("text")
         .attr("x", margin.left + graphWidth/2)
         .attr("y", margin.top / 2 + 10)
         .style("font-size", "1.8em")
         .style("font-family", "sans-seirf")
         .style("stroke", "black")
         .style("text-anchor", "middle")
         .text(mTitle)

    sum = 0;
    for (i = 0; i < ndvalue; i++) {
            sum += datafreq[i];
    }
    for (i = 0; i < ndvalue; i++) {
            tratio[i] = 100 * datafreq[i] / sum;
            bandWidth[i] = Math.floor(0.5 + graphWidth * datafreq[i] / sum);
    }
    bandX[0] = margin.left+5;
    for (i = 1; i < ndvalue; i++) {
            bandX[i] = bandX[i - 1] + bandWidth[i - 1];
    }

    ty = margin.top + 10; 
    t2 = ty + bandHeight + oneLine;
    chart.append("text")
         .attr("x", margin.left)
         .attr("y", t2)
         .text(svgStr[119][langNum])
         .style("font-size", fontsize)
         .style("font-family", "sans-seirf")
         .style("text-anchor", "end")
         .style("stroke", "black")
    chart.append("text")
         .attr("x", margin.left)
         .attr("y", t2 + oneLine)
         .text(svgStr[16][langNum])
         .style("font-size", fontsize)
         .style("font-family", "sans-seirf")
         .style("text-anchor", "end")
         .style("stroke", "black")
    chart.append("text")
         .attr("x", margin.left)
         .attr("y", t2 + 2*oneLine)
         .text(svgStr[17][langNum])
         .style("font-size", fontsize)
         .style("font-family", "sans-seirf")
         .style("text-anchor", "end")
         .style("stroke", "black")
    for (j = 0; j < ndvalue; j++) {
        tx = bandX[j] + bandWidth[j] / 2;
        str = dvalueLabel[j];
        chart.append("rect")
                .attr("x", bandX[j])
                .attr("y", ty)
                .attr("width", "0px") // 최초 막대의 너비를 0 px 로 지정
                .transition() // 애니매이션 효과 지정
                .delay(function(d, i) {
                     return i * 500;
                 }) // 0.5초마다 그리도록 대기시간 설정
                .duration(2000) // 2초동안 애니매이션이 진행되도록 설정
                .attr("width", bandWidth[j])
                .attr("height", bandHeight)
                .style("fill", ncolr[j])
        chart.append("text")
             .attr("x", tx)
             .attr("y", t2)
             .text(dvalueLabel[j])
             .style("font-size", fontsize)
             .style("font-family", "sans-seirf")
             .style("text-anchor", "middle")
             .style("stroke", "black")
        chart.append("text")
             .attr("x", tx)
             .attr("y", t2 + oneLine)
             .text(datafreq[j])
             .style("font-size", fontsize)
             .style("font-family", "sans-seirf")
             .style("text-anchor", "middle")
             .style("stroke", "black")
        chart.append("text")
             .attr("x", tx)
             .attr("y", t2 + 2*oneLine)
             .text(f1(tratio[j]) + "%")
             .style("font-size", "1em")
             .style("font-family", "sans-seirf")
             .style("text-anchor", "middle")
             .style("stroke", "black")
    } // endof j

  }

  </script>



    <!------------------------------------------------------------------------------------------------->
    <div class="mainTableGrey">
      <p><h4>🎲 실습 2.2</h4>
         초등학생이 좋아하는 과일을 조사하였더니 다음과 같다. 『eStatM』을 이용하여 막대그래프를 그려보자. 
          <p>
          <div class="textLeft">[표 2.2] 초등학생들이 좋아하는 과일</div>
          <table> 
            <tr> <th class="thGrey">과일</th>       <th class="thGrey">학생수</th>  </tr>
            <tr> <td class="tdCenter">딸기</td>     <td class="tdCenter">15</td>    </tr>
            <tr> <td class="tdCenter">사과</td>     <td class="tdCenter">10</td>    </tr>
            <tr> <td class="tdCenter">바나나</td>   <td class="tdCenter">25</td>    </tr>
            <tr> <td class="tdCenter">포도</td>     <td class="tdCenter">20</td>    </tr>
            <tr> <td class="tdCenter">오랜지</td>   <td class="tdCenter">10</td>    </tr>
            <tr> <td class="tdCenter">토마토</td>   <td class="tdCenter"> 2</td>    </tr>
            <tr> <td class="tdCenter">수박</td>     <td class="tdCenter">13</td>    </tr>
            <tr> <td class="tdCenter">파인애플</td> <td class="tdCenter"> 5</td>    </tr>
          </table>
      <p><b>풀이</b>
      <table style="width:650px">
        <tr>
          <td>
            <input class="qrBtn" type="image" src="../../QR/eStatU_01BarChart.svg" onclick="window.open(addrStr[141])">     
          </td>
          <td>
            <p> 왼쪽의 QR을 이용해 『eStatM』 메뉴에서 '막대그래프 – 원그래프 – 띠그래프'를 선택하면 
                &lt;그림 2.9&gt;와 같은 자료 입력창이 나타난다.
            <p>'범주'와 '도수'를 입력하고 '주 제목'을 입력한 후 제일 오른쪽에 각 과일 아이콘을 선택한다. 
            <p>[막대그래프] 버튼을 클릭하고 그래프가 나타나면 그래프 아래의 '이모티콘'을 체크한다. 원하는 
               범주의 색을 선택하여 다시 [막대그래프를] 그릴 수도 있다
          </td>
        </tr>
        <tr>
          <td></td>
          <td>
            <p>
            <img class="imgFig600600" src="../FigureM/Fig0209.png">
            <div class="textLeft">&lt;그림 2.9&gt; 좋아하는 과일의 자료 입력</div>
            <p>
            <img class="imgFig600600" src="../FigureM/Fig0210.png">
            <div class="textLeft">&lt;그림 2.10&gt; 좋아하는 과일의 막대그래프 </div>
          </td>
        </tr>
      </table>
    </div>
    <!------------------------------------------------------------------------------------------------->
    <p>

    <!-------------------------------------------------------------------------->
    <div class="mainTablePink">
      <table style="width:650px">
        <tr>
          <td>
            <h4>⏱ 과제 2.1</h4> <p>
            <input class="qrBtn" type="image" src="../../QR/eStatU_01BarChart.svg" onclick="window.open(addrStr[141])">     
          </td>
          <td>
          <p>
            <b>(우리나라 특별시/직할시 인구)</b> <br>
            2015년 우리나라의 8개 특별시 및 직할시에 대한 인구가 [표 2.3]과 같다. 『eStatM』을 이용하여 막대그래프, 
            원그래프, 띠그래프를 그려 특징을 알아보라.  
            <p>
            <div class="textLeft">[표 2.3] 시도별 인구수 (출처: 통계청 단위: 만명)</div>
            <table> 
              <tr> <th class="thGrey">도시명</th> <th class="thGrey">인구수</th>  </tr>
              <tr> <td class="tdCenter">서울</td> <td class="tdCenter">990</td>   </tr>
              <tr> <td class="tdCenter">부산</td> <td class="tdCenter">345</td>   </tr>
              <tr> <td class="tdCenter">대구</td> <td class="tdCenter">247</td>   </tr>
              <tr> <td class="tdCenter">인천</td> <td class="tdCenter">289</td>   </tr>
              <tr> <td class="tdCenter">광주</td> <td class="tdCenter">150</td>   </tr>
              <tr> <td class="tdCenter">대전</td> <td class="tdCenter">154</td>   </tr>
              <tr> <td class="tdCenter">울산</td> <td class="tdCenter">117</td>   </tr>
              <tr> <td class="tdCenter">세종</td> <td class="tdCenter"> 20</td>   </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <p>

    <!-------------------------------------------------------------------------->
    <div class="mainTablePink">
      <table style="width:650px">
        <tr>
          <td>
            <h4>⏱ 과제 2.2</h4> <p>
            <input class="qrBtn" type="image" src="../../QR/eStatU_01BarChart.svg" onclick="window.open(addrStr[141])">     
          </td>
          <td>
          <p>
            <b>(장래 희망직업)</b> <br>
            어느 초등학교 학생들의 장래 희망직업을 조사한 요약 자료가 다음과 같다. 『eStatM』을 이용하여 
            막대그래프, 원그래프, 띠그래프를 그려 특징을 알아보라.  
            <p>
            <div class="textLeft">[표 2.4] 초등학생들의 장래 희망직업</div>
            <table> 
              <tr> <th class="thGrey">직업</th> <th class="thGrey">학생수</th>  </tr>
              <tr> <td class="tdCenter">연예인</td>      <td class="tdCenter">45</td>   </tr>
              <tr> <td class="tdCenter">의사</td>        <td class="tdCenter">30</td>   </tr>
              <tr> <td class="tdCenter">교사, 교수</td>  <td class="tdCenter">60</td>   </tr>
              <tr> <td class="tdCenter">법조인</td>      <td class="tdCenter">24</td>   </tr>
              <tr> <td class="tdCenter">게이머</td>      <td class="tdCenter">10</td>   </tr>
              <tr> <td class="tdCenter">운동선수</td>    <td class="tdCenter">43</td>   </tr>
              <tr> <td class="tdCenter">경찰,소방관</td> <td class="tdCenter">26</td>   </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <p>

<!---------------------------------------------------------------------------------->
  <h3 id="0202">2.2 꺽은선그래프</h3>
  <p>
  <div class="mainTableYellow">
    <table>
      <tr>
        <td style="width:110px">
          <h4>⭐ 생각열기</h4>
        </td>
        <td style="width:450px">
          <b>1925년부터 2019년까지 대략 5년 간격으로 조사한 우리나라의 인구가 다음 표와 같다. </b>
          <p>
            <div class="textLeft">[표 2.5] 우리나라의 인구 (통계청)  </div>
            <table> 
              <tr> <th class="thGrey">연도</th> <th class="thGrey">인구수</th>  </tr>
              <tr> <td class="tdCenter">1925</td>      <td class="tdCenter">1902</td>   </tr>
              <tr> <td class="tdCenter">1930</td>      <td class="tdCenter">2044</td>   </tr>
              <tr> <td class="tdCenter">1935</td>      <td class="tdCenter">2221</td>   </tr>
              <tr> <td class="tdCenter">1940</td>      <td class="tdCenter">2355</td>   </tr>
              <tr> <td class="tdCenter">1944</td>      <td class="tdCenter">2512</td>   </tr>
              <tr> <td class="tdCenter">1949</td>      <td class="tdCenter">2017</td>   </tr>
              <tr> <td class="tdCenter">1955</td>      <td class="tdCenter">2150</td>   </tr>
              <tr> <td class="tdCenter">1960</td>      <td class="tdCenter">2499</td>   </tr>
              <tr> <td class="tdCenter">1966</td>      <td class="tdCenter">2916</td>   </tr>
              <tr> <td class="tdCenter">1970</td>      <td class="tdCenter">3144</td>   </tr>
              <tr> <td class="tdCenter">1975</td>      <td class="tdCenter">3468</td>   </tr>
              <tr> <td class="tdCenter">1980</td>      <td class="tdCenter">3741</td>   </tr>
              <tr> <td class="tdCenter">1985</td>      <td class="tdCenter">4042</td>   </tr>
              <tr> <td class="tdCenter">1990</td>      <td class="tdCenter">4339</td>   </tr>
              <tr> <td class="tdCenter">1995</td>      <td class="tdCenter">4455</td>   </tr>
              <tr> <td class="tdCenter">2000</td>      <td class="tdCenter">4599</td>   </tr>
              <tr> <td class="tdCenter">2005</td>      <td class="tdCenter">4704</td>   </tr>
              <tr> <td class="tdCenter">2010</td>      <td class="tdCenter">4799</td>   </tr>
              <tr> <td class="tdCenter">2015</td>      <td class="tdCenter">5106</td>   </tr>
              <tr> <td class="tdCenter">2019</td>      <td class="tdCenter">5178</td>   </tr>
            </table>
        </td>
      </tr>
      <tr>
        <td>
          <h4>💎 탐구</h4>
        </td>
        <td>
          <p>
          <b>이렇게 시간에 따라 측정한 자료를 쉽게 관찰할 수 있는 그래프에는 어떠한 것이 있을까? 
          </b>
        </td>
      </tr>
    </table>
  </div>
  <p>

  <div class="mainTable">
      <p>시간에 따라 측정되는 자료는 <b>꺾은선그래프</b>를 이용하여 많이 관찰한다. 꺽은선그래프는 월 또는 
         연도같은 시간을 X축으로 하고 다른 변량의 값을 Y값으로 하여 XY평면에 각 자료를 점으로 표시한 후 
         이를 선으로 연결한 것이다. 막대그래프와 유사하나, 연도별 수출액 등의 경우에는 시간에 따른 
         자료의 변화를 관찰할 수 있다. 
      <p>
           <img class="imgFig600600" src="../FigureM/Fig0211.png">
           <div class="textLeft">&lt;그림 2.11&gt;  우리나라 인구의 꺽은선그래프</div>
      <p>
         우리나라의 인구수에 대한 꺽은선그래프를 관찰하면 1925년부터 1944년까지 증가하다가 태평양전쟁과 
         한국전쟁의 여파로 1949년과 1954년에 많이 감소되었음을 알 수 있다. 그 이후 50년대 후반 베이비붐 기간에 
         계속 인구가 많이 증가하다가 1990년 이후 증가추세가 완만하여지고 2015년 이후에 이 추세는 더욱 완만하여 지고 있다. 
  </div>
  <p>

    <!------------------------------------------------------------------------------------------------->
    <div class="mainTableGrey">
      <p><h4>🎲 실습 2.3</h4>
        『eStatM』을 이용하여 [표 2.5]의 우리나라 인구수에 대한 꺽은선그래프를 그리고 관찰하라
      <p><b>풀이</b>
      <p>
         『eStatM』의 '꺽은선그래프' 자료 입력창에서 '주 제목', '세로축 제목', '가로축 제목'을 
         입력하고 '꺽은선1'에 연도별 인구수, 그 옆에 변량명을 인구수, 'X'에 연도자료를 입력한다.  
      <p>[실행] 버튼을 클릭하면 &lt;그림 2.11&gt;과 같은 꺽은선그래프가 나타난다. 데이터의 선 색을 선택하여 다시 
         꺽은선그래프를 그릴 수도 있다. 
      <p>
      <!-------------   Line Graph html------------------------------------------------------------------------>
      <button type="button" id="eraseLineData" style="width:140px;"><b><span data-msgid="input data"></span></b></button>
      <table>
        <tr>
          <td style="text-align: right;"><b><span data-msgid="Main Title">Main Title</span></b>&nbsp;</td>
          <td colspan="3"><input type="text" size=62 id="mtitleLine"></td>
        </tr>
	<tr>
          <td style="text-align: right;"><b><span data-msgid="y title">y title</span></b>&nbsp;</td>
          <td><input type="text" size=20 id="ytitleLine"></td>
          <td style="text-align: right;"><b><span data-msgid="x title">x title</span></b>&nbsp;</td>
          <td><input type="text" size=20 id="xtitleLine"></td>
 	</tr>
      </table>

      <table class="data">
	<tr>
	  <td></td>
          <td><span style="color: red;" data-msgid="NumberData">&nbsp; * Number of data </span> <span style="color:red;">≤ 100<span> </td>
          <td>데이터 이름</td>
          <td>선 색</td>
	</tr>
	<tr>
	  <td>데이터 1&nbsp;</td>
	  <td><input type="text" size=65 id="data1"></td>
	  <td><input type="text" size=4 id="line1" style="width:80px;" value="데이터1"></td>
          <td><input type="color" id="colr1" onclick="changeColorLine(1)" style="width:40px;"></td>
	</tr>
	<tr>
	  <td>데이터 2</td>
	  <td><input type="text" size=65 id="data2"></td>
	  <td><input type="text" size=4 id="line2" style="width:80px;" value="데이터2"></td>
          <td><input type="color" id="colr2" onclick="changeColorLine(2)" style="width:40px;"></td>
	</tr>
	<tr>
	  <td>데이터 3</td>
	  <td><input type="text" size=65 id="data3"></td>
	  <td><input type="text" size=4 id="line3" style="width:80px;" value="데이터3"></td>
          <td><input type="color" id="colr3" onclick="changeColorLine(3)" style="width:40px;"></td>
	</tr>
	<tr>
	  <td>데이터 4</td>
	  <td><input type="text" size=65 id="data4"></td>
	  <td><input type="text" size=4 id="line4" style="width:80px;" value="데이터4"></td>
          <td><input type="color" id="colr4" onclick="changeColorLine(4)" style="width:40px;"></td>
	</tr>
	<tr>
	  <td>X축 데이터</td>
	  <td><input type="text" size=65 id="datax"></td>
	</tr>
      </table>
      <p>
      <div class="textLeft">&lt;그림 2.12&gt; 꺽은선그래프의 자료 입력</div>
      <p>
      <button type="button" id="executeLine"  style="width:140px;"> <span data-msgid="Execute">Execute</span></button>
      <p>
      <svg id="chartLine" width="750" height="540" style="border-style:solid;"> </svg> 
      <p>
      <button type="button" id="saveGraphLine" >
	<span class="tooltiptext" data-msgid="Graph Save">Graph Save</span>
      </button>
      <p>
    </div>
    <!------------------------------------------------------------------------------------------------->
    <p>
    <!-------------   Line Graph script ----------------------------------------------------------------------->
    <script>
      setLanguage('ko'); 
      var chartLine = d3.select("#chartLine");
      var i, j, k, nrow, num; 
      var gxmin, gxmax, gymin, gymax, temp, freqMin, freqMax;
      var mTitleLine, yTitleLine, xTitleLine;
      var checkInput = false;
      var rowMax = 201;
      var fontsize = "1em";
      var colrLine = ["#32CD32", "#FF0000","#FF8000","#0080FF"];
      var nline = 4;
      var ncolrLine = new Array(nline);
      var nobs  = new Array(nline);
      var vname = new Array(nline);
      var data1 = new Array(rowMax);
      var data2 = new Array(rowMax);
      var data3 = new Array(rowMax);
      var data4 = new Array(rowMax);
      var datax = new Array(rowMax);
      document.getElementById("colr1").value = colrLine[0];
      document.getElementById("colr2").value = colrLine[1];
      document.getElementById("colr3").value = colrLine[2];
      document.getElementById("colr4").value = colrLine[3];
      // init example
      document.getElementById("mtitleLine").value = "우리나라의 인구";
      document.getElementById("ytitleLine").value = "인구수 (단위: 만명)";
      document.getElementById("xtitleLine").value = "연도";
      document.getElementById("line1").value = "인구수";
      document.getElementById("data1").value = "1902,2044,2221,2355,2512,2017,2150,2499,2916,3144,3468,3741,4042,4339,4455,4599,4704,4799,5106,5178";
      document.getElementById("datax").value = "1925,1930,1935,1940,1944,1949,1955,1960,1966,1970,1975,1980,1985,1990,1995,2000,2005,2010,2015,2019";
      data1 = [1902,2044,2221,2355,2512,2017,2150,2499,2916,3144,3468,3741,4042,4339,4455,4599,4704,4799,5106,5178];
      datax = [1925,1930,1935,1940,1944,1949,1955,1960,1966,1970,1975,1980,1985,1990,1995,2000,2005,2010,2015,2019];
      nobs[1] = data1.length;
      nobs[0] = datax.length; 

      // input data control ===================================================
      d3.select("#data1").on("input", function() {
        stat    = simplestat("#data1");  
        data1   = data;  
        nobs[1] = stat.n;
      });
      d3.select("#data2").on("input", function() {
        stat    = simplestat("#data2");  
        data2   = data;  
        nobs[2] = stat.n;
      });
      d3.select("#data3").on("input", function() {
        stat    = simplestat("#data3");  
        data3   = data;  
        nobs[3] = stat.n;
      });
      d3.select("#data4").on("input", function() {
        stat    = simplestat("#data4");  
        data4   = data;  
        nobs[4] = stat.n;
      });
      d3.select("#datax").on("input", function() {
        stat    = simpletext("#datax");  
        datax   = data;  
        nobs[0] = stat.n;
      });
      // basic text input function ============================================
      simpletext = function(dataid) {
        data = d3.select(dataid)
	         .node()
	         .value
	         .trim()
	         .split(new RegExp("[ ]*[, \t][ ]*"))   // ['8', '8', '9']
        n = data.length;
        return {'n' : n};
      }
      // update data
      updateData = function() {
        document.getElementById("data1").value = '';
        document.getElementById("data2").value = '';    
        document.getElementById("data3").value = '';    
        document.getElementById("data4").value = '';    
        document.getElementById("datax").value = '';    
      }
      // erase Line Data and Graph
      d3.select("#eraseLineData").on("click",function() {
        chartLine.selectAll("*").remove();
        // title
        document.getElementById("mtitleLine").value = "";
        document.getElementById("ytitleLine").value = "";
        document.getElementById("xtitleLine").value = "";
        // category
        document.getElementById("data1").value = "";
        document.getElementById("data2").value = "";
        document.getElementById("data3").value = "";
        document.getElementById("data4").value = "";
        document.getElementById("datax").value = "";    
        // line name
        document.getElementById("line1").value = "";
        document.getElementById("line2").value = "";
        document.getElementById("line3").value = "";
        document.getElementById("line4").value = "";
        // default color
        document.getElementById("colr1").value = colrLine[0];
        document.getElementById("colr2").value = colrLine[1];
        document.getElementById("colr3").value = colrLine[2];
        document.getElementById("colr4").value = colrLine[3];
      })
      // Draw Line Graph ======================================
      d3.select("#executeLine").on("click",function() {
        // 자료수가 100개 이하인지 체크
        if (nobs[0] > 100) {
            chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
               .text(alertMsg[49][langNum]).style("stroke","red").style("font-size","1em");
            return;
        }       
        // 입력행이 같은지 체크
        if (nobs[0] != nobs[1] ) {
            chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
               .text(alertMsg[54][langNum]).style("stroke","red").style("font-size","1em");
            return;
        }
        if (nobs[2] > 0) {
          if (nobs[0] != nobs[2] ) {
            chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
               .text(alertMsg[54][langNum]).style("stroke","red").style("font-size","1em");
            return;
          }
        }
        if (nobs[3] > 0) {
          if (nobs[0] != nobs[3] ) {
            chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
               .text(alertMsg[54][langNum]).style("stroke","red").style("font-size","1em");
            return;
          }
        }
        if (nobs[4] > 0) {
          if (nobs[0] != nobs[4] ) {
            chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
               .text(alertMsg[54][langNum]).style("stroke","red").style("font-size","1em");
            return;
          }
        }
        nrow = nobs[0];
        // 입력 도수에 숫자 문자 빈칸 있나 체크
        for (i=0; i<nrow; i++) {
            if (isNaN(data1[i]) ) {
              chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
                 .text(alertMsg[48][langNum]).style("stroke","red").style("font-size","1em");
              return;
            }
        }
        if (nobs[2] > 0) {
          for (i=0; i<nrow; i++) {
            if (isNaN(isNaN(data2[i]) ) ) {
              chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
                 .text(alertMsg[48][langNum]).style("stroke","red").style("font-size","1em");
              return;
            }
          }
        }
        if (nobs[3] > 0) {
          for (i=0; i<nrow; i++) {
            if (isNaN(isNaN(data3[i]) ) ) {
              chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
                 .text(alertMsg[48][langNum]).style("stroke","red").style("font-size","1em");
              return;
            }
          }
        }
        if (nobs[4] > 0) {
          for (i=0; i<nrow; i++) {
            if (isNaN(isNaN(data4[i]) ) ) {
              chartLine.append("text").attr("class","mean").attr("x", 250).attr("y", margin.top + 40)
                 .text(alertMsg[48][langNum]).style("stroke","red").style("font-size","1em");
              return;
            }
          }
        }
        initializeLine();
        drawLineGraph();
      })

      // 초기 작업
      function initializeLine() {
        chartLine.selectAll("*").remove();
        // title
        mTitleLine = d3.select("#mtitleLine").node().value;
        yTitleLine = d3.select("#ytitleLine").node().value;
        xTitleLine = d3.select("#xtitleLine").node().value;
        // get var name
        vname[0] = d3.select("#line1").node().value;
        vname[1] = d3.select("#line2").node().value;
        vname[2] = d3.select("#line3").node().value;
        vname[3] = d3.select("#line4").node().value;
        for (i=0; i<nline; i++) { 
          if (vname[i] == svgStr[64][langNum]) vname[i] = svgStrU[114][langNum]+(i+1).toString();
        }
        // get new color
        ncolrLine[0] = d3.select("#colr1").node().value;
        ncolrLine[1] = d3.select("#colr2").node().value;
        ncolrLine[2] = d3.select("#colr3").node().value;
        ncolrLine[3] = d3.select("#colr4").node().value;
        // 입력값 최대도수 계산
        freqMin = data1[0];
        freqMax = data1[0];
        for (i=1; i<nrow; i++) { 
            if (data1[i] > freqMax) freqMax = data1[i];
            if (data1[i] < freqMin) freqMin = data1[i];
        }
        if (nobs[2] > 0) {
          for (i=0; i<nrow; i++) { 
            if (data2[i] > freqMax) freqMax = data2[i];
            if (data2[i] < freqMin) freqMin = data2[i];
          }
        }
        if (nobs[3] > 0) {
          for (i=0; i<nrow; i++) { 
            if (data3[i] > freqMax) freqMax = data3[i];
            if (data3[i] < freqMin) freqMin = data3[i];
          }
        }
        if (nobs[4] > 0) {
          for (i=0; i<nrow; i++) { 
            if (data4[i] > freqMax) freqMax = data4[i];
            if (data4[i] < freqMin) freqMin = data4[i];
          }
        }
      }

      // svg Graph Save
      d3.select("#saveGraphLine").on("click", function() {
        var svg = d3.select("#chartLine");
        var width = svgWidth;
        var height = svgHeight;
        var svgString = getSVGString(svg.node());
        svgString2Image(svgString, width, height, 'png', save);
        function save(dataBlob, filesize) {
          saveAs(dataBlob, 'eStatGraphU.png');
        }
      });
 
  // Change Color
  function changeColorLine(num){
      var strid;
      switch (num) {
        case 1: strid = "colr1"; break;
        case 2: strid = "colr2"; break;
        case 3: strid = "colr3"; break;
        case 4: strid = "colr4"; break;
      }
      ncolrLine[num-1] = document.getElementById(strid).value ;
  }

  // Draw Line Graph
  function drawLineGraph() {
    var i, j, str, x1, y1, x2, y2, tx, ty, cx, cy;
    var betweenbarWidth = graphWidth / nrow; // 막대와 막대 사이의 너비
    var barWidth = betweenbarWidth; // 막대의 너비
    var gapWidth = betweenbarWidth * 0.5;
    var tbuffer  = (freqMax - freqMin) * 0.1;
    freqMax = freqMax + tbuffer;
    freqMin = freqMin - tbuffer;
    var freqRatioV = graphHeight / (freqMax - freqMin); // 그래프 영역과 데이터 영역의 비율

    drawTitleLine(mTitleLine, yTitleLine, xTitleLine);
    drawLabelLine(nrow, datax, betweenbarWidth, barWidth, gapWidth);
    drawAxisLine(freqMax, graphHeight);

    // x축 위 선
    y1 = margin.top;
    chartLine.append("line")
         .attr("class", "line")
         .attr("x1", margin.left)
         .attr("x2", margin.left + graphWidth)
         .attr("y1", y1)
         .attr("y2", y1)
         .style("stroke", "black")
    // x축 선
    y1 = margin.top + graphHeight;
    chartLine.append("line")
         .attr("class", "line")
         .attr("x1", margin.left)
         .attr("x2", margin.left + graphWidth)
         .attr("y1", y1)
         .attr("y2", y1)
         .style("stroke", "black")

    // line 1
      x1 = margin.left + gapWidth;
      y1 = margin.top + graphHeight - (data1[0] - freqMin) * freqRatioV;
      chartLine.append("circle").attr("class", "line")
           .attr("cx", x1).attr("cy", y1).attr("r","4")
           .style("stroke", ncolrLine[0])
      for (i=1; i<nrow; i++) {
        x2 = margin.left + gapWidth + i*betweenbarWidth;
        y2 = margin.top + graphHeight - (data1[i] - freqMin) * freqRatioV;
        chartLine.append("line").attr("class", "line")
             .attr("x1", x1).attr("x2", x2).attr("y1", y1).attr("y2", y2)
             .style("stroke", ncolrLine[0])
        chartLine.append("circle").attr("class", "line")
             .attr("cx", x2).attr("cy", y2).attr("r","4")
             .style("stroke", ncolrLine[0])
        x1 = x2;
        y1 = y2;
      }
      // 레이블
      cx = margin.left + graphWidth + 10;
      cy = margin.top + 30;
      chartLine.append("circle").style("fill", ncolrLine[0]).style("stroke-width", "2px")
             .attr("cx", cx).attr("cy", cy).attr("r", 3)
      chartLine.append("text").attr("x", cx+10).attr("y", cy+7)
           .style("font-size", "0.8em").style("font-family", "sans-seirf").style("stroke", ncolrLine[0]).style("text-anchor", "begin")
           .text(vname[0])
    // line 2
    if (nobs[2] > 0) {
      x1 = margin.left + gapWidth;
      y1 = margin.top + graphHeight - (data2[0] - freqMin) * freqRatioV;
      chartLine.append("circle").attr("class", "line")
           .attr("cx", x1).attr("cy", y1).attr("r","4")
           .style("stroke", ncolrLine[1])
      for (i=1; i<nrow; i++) {
        x2 = margin.left + gapWidth + i*betweenbarWidth;
        y2 = margin.top + graphHeight - (data2[i] - freqMin) * freqRatioV;
        chartLine.append("line").attr("class", "line")
             .attr("x1", x1).attr("x2", x2).attr("y1", y1).attr("y2", y2)
             .style("stroke", ncolrLine[1])
        chartLine.append("circle").attr("class", "line")
             .attr("cx", x2).attr("cy", y2).attr("r","4")
             .style("stroke", ncolrLine[1])
        x1 = x2;
        y1 = y2;
      }
      // 레이블
      cx = margin.left + graphWidth + 10;
      cy += 20;
      chartLine.append("circle").style("fill", ncolrLine[1]).style("stroke-width", "2px")
             .attr("cx", cx).attr("cy", cy).attr("r", 3)
      chartLine.append("text").attr("x", cx+10).attr("y", cy+7)
           .style("font-size", "0.8em").style("font-family", "sans-seirf").style("stroke", ncolrLine[1]).style("text-anchor", "begin")
           .text(vname[1])
    }
    // line 3
    if (nobs[3] > 0) {
      x1 = margin.left + gapWidth;
      y1 = margin.top + graphHeight - (data3[0] - freqMin) * freqRatioV;
      chartLine.append("circle").attr("class", "line")
           .attr("cx", x1).attr("cy", y1).attr("r","4")
           .style("stroke", ncolrLine[2])
      for (i=1; i<nrow; i++) {
        x2 = margin.left + gapWidth + i*betweenbarWidth;
        y2 = margin.top + graphHeight - (data3[i] - freqMin) * freqRatioV;
        chartLine.append("line").attr("class", "line")
             .attr("x1", x1).attr("x2", x2).attr("y1", y1).attr("y2", y2)
             .style("stroke", ncolrLine[2])
        chartLine.append("circle").attr("class", "line")
             .attr("cx", x2).attr("cy", y2).attr("r","4")
             .style("stroke", ncolrLine[2])
        x1 = x2;
        y1 = y2;
      }
      // 레이블
      cx = margin.left + graphWidth + 10;
      cy += 20;
      chartLine.append("circle").style("fill", ncolrLine[2]).style("stroke-width", "2px")
             .attr("cx", cx).attr("cy", cy).attr("r", 3)
      chartLine.append("text").attr("x", cx+10).attr("y", cy+7)
           .style("font-size", "0.8em").style("font-family", "sans-seirf").style("stroke", ncolrLine[2]).style("text-anchor", "begin")
           .text(vname[2])
    }
    // line 4
    if (nobs[4] > 0) {
      x1 = margin.left + gapWidth;
      y1 = margin.top + graphHeight - (data4[0] - freqMin) * freqRatioV;
      chartLine.append("circle").attr("class", "line")
           .attr("cx", x1).attr("cy", y1).attr("r","4")
           .style("stroke", ncolrLine[3])
      for (i=1; i<nrow; i++) {
        x2 = margin.left + gapWidth + i*betweenbarWidth;
        y2 = margin.top + graphHeight - (data4[i] - freqMin) * freqRatioV;
        chartLine.append("line").attr("class", "line")
             .attr("x1", x1).attr("x2", x2).attr("y1", y1).attr("y2", y2)
             .style("stroke", ncolrLine[3])
        chartLine.append("circle").attr("class", "line")
             .attr("cx", x2).attr("cy", y2).attr("r","4")
             .style("stroke", ncolrLine[3])
        x1 = x2;
        y1 = y2;
      }
      // 레이블
      cx = margin.left + graphWidth + 10;
      cy += 20;
      chartLine.append("circle").style("fill", ncolrLine[3]).style("stroke-width", "2px")
             .attr("cx", cx).attr("cy", cy).attr("r", 3)
      chartLine.append("text").attr("x", cx+10).attr("y", cy+7)
           .style("font-size", "0.8em").style("font-family", "sans-seirf").style("stroke", ncolrLine[3]).style("text-anchor", "begin")
           .text(vname[3])
    }
  }

  // 그래프 제목 쓰기 함수
  function drawTitleLine(mTitle, yTitle, xTitle) {
    // 주제목
    chartLine.append("text")
        .attr("x", margin.left + graphWidth/2)
        .attr("y", margin.top / 2 + 10)
        .style("font-size", "1.8em")
        .style("font-family", "sans-seirf")
        .style("stroke", "black")
        .style("text-anchor", "middle")
        .text(mTitle)
    // X축 제목
    chartLine.append("text")
            .style("font-size", fontsize)
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "middle")
            .attr("x", margin.left + graphWidth / 2)
            .attr("y", margin.top + graphHeight + margin.bottom / 2 + 15)
            .text(xTitle)
     // Y축 제목
     var tx = margin.left / 2 - 30;
     var ty = margin.top + 15;
     chartLine.append("text")
            .style("font-size", fontsize)
            .style("font-family", "sans-seirf")
            .style("stroke", "black")
            .style("text-anchor", "end")
            .attr("x", tx)
            .attr("y", ty)
            .text(yTitle)
            .attr("transform", "rotate(-90 30 100)")
  }
  // 변량값명 쓰기 함수
  function drawLabelLine(ndvalue, label, betweenbarWidth, barWidth, gapWidth) {
    var i, j, k, x1, y1, tx, ty, str, strAnchor;
    var angle;

    ty = margin.top + graphHeight;
    if (ndvalue < 20) angle = 0;
    else if (ndvalue < 50) angle = 45;
    else angle = 90;
    str = "middle";
    y1 = ty + 20;
 
    for (j = 0; j < ndvalue; j++) {
      if ((ndvalue > 20) && (ndvalue <= 40) && (j%2 != 0)) continue;
      if ((ndvalue > 40) && (ndvalue <= 60) && (j%3 != 0)) continue;
      if ((ndvalue > 60) && (ndvalue <= 80) && (j%4 != 0)) continue;
      if ((ndvalue > 90) && (ndvalue <= 100) && (j%5 != 0)) continue;
      x1 = margin.left + gapWidth + j * betweenbarWidth;
      chartLine.append("line") // tick
                    .attr("x1", x1)
                    .attr("x2", x1)
                    .attr("y1", ty)
                    .attr("y2", ty + 5)
                    .style("stroke", "black")
                    .style("stroke-width", "0.5")
      chartLine.append("text")
                    .style("text-anchor", str)
                    .style("font-family", "sans-serif")
                    .style("font-size", "0.8em")
                    .attr("x", x1)
                    .attr("y", y1)
                    .attr("transform", "rotate(" + angle + "," + x1 + "," + y1 + ")  ")
                    .text(label[j])
    }
  }

  // Line그래프 축 그리기
  function drawAxisLine(freqMax, height) {
    var tx, ty;
    var xScale, yScale;
    var ygrid    = new Array(rowMax);

    yScale = d3.scaleLinear().domain([freqMin, freqMax]).range([graphHeight, 0]);
    ygrid = yScale.ticks();
    tx = margin.left;
    ty = margin.top;
    chartLine.append("g")
         .attr("transform", "translate(" + tx + "," + ty + ")")
         .call(d3.axisLeft(yScale)) // 눈금을 표시할 함수 호출
    // Y축 그리드
    for (i = 1; i < ygrid.length; i++) {
      ty = margin.top + yScale(ygrid[i]);
      chartLine.append("line")
           .attr("x1", margin.left)
           .attr("x2", margin.left + graphWidth)
           .attr("y1", ty)
           .attr("y2", ty)
           .style("stroke", "lightgrey")
    }
    chartLine.append("line").attr("class", "line")
                    .attr("x1", margin.left)
                    .attr("x2", margin.left)
                    .attr("y1", margin.top)
                    .attr("y2", margin.top + graphHeight)
                    .style("stroke", "black")
    chartLine.append("line").attr("class", "line")
                    .attr("x1", margin.left + graphWidth)
                    .attr("x2", margin.left + graphWidth)
                    .attr("y1", margin.top)
                    .attr("y2", margin.top + graphHeight)
                    .style("stroke", "black")

  }

  </script>


  <div class="mainTable">
      <p>동일한 시간에 관측된 여러 변량이 있을 경우 꺽은선그래프는 여러 변량을 동시에 한 그래프에 그릴 수 있다. 
  </div>
  <p>

    <!------------------------------------------------------------------------------------------------->
    <div class="mainTableGrey">
      <p><h4>🎲 실습 2.4</h4>
        『eStatM』을 이용하여 [표 2.6]의 우리나라 계절별 온도에 대한 봄, 여름, 가을, 겨울의 꺽은선그래프를 
         한 그래프에 그리고 관찰하라.
      <p>
            <div class="textLeft">[표 2.6] 우리나라의 계절별 온도 (단위: 섭씨, 가상청)    </div>
            <table> 
              <tr> <th class="thGrey">연도</th> <th class="thGrey">봄</th> <th class="thGrey">여름</th> <th class="thGrey">가을</th> <th class="thGrey">겨울</th>  </tr>
              <tr> <td class="tdCenter">1973</td> <td class="tdCenter">11.6</td> <td class="tdCenter">24.5</td> <td class="tdCenter">12.9</td> <td class="tdCenter">-1.4</td> </tr>
              <tr> <td class="tdCenter">1974</td> <td class="tdCenter">10.8</td> <td class="tdCenter">22.4</td> <td class="tdCenter">13.0</td> <td class="tdCenter">-0.1</td> </tr>
              <tr> <td class="tdCenter">1975</td> <td class="tdCenter">11.2</td> <td class="tdCenter">23.9</td> <td class="tdCenter">15.5</td> <td class="tdCenter"> 0.3</td> </tr>
              <tr> <td class="tdCenter">1976</td> <td class="tdCenter">10.9</td> <td class="tdCenter">22.6</td> <td class="tdCenter">12.5</td> <td class="tdCenter">-1.7</td> </tr>
              <tr> <td class="tdCenter">1977</td> <td class="tdCenter">11.8</td> <td class="tdCenter">23.5</td> <td class="tdCenter">15.0</td> <td class="tdCenter"> 0.7</td> </tr>
              <tr> <td class="tdCenter">1978</td> <td class="tdCenter">11.7</td> <td class="tdCenter">24.7</td> <td class="tdCenter">14.3</td> <td class="tdCenter"> 2.2</td> </tr>
              <tr> <td class="tdCenter">1979</td> <td class="tdCenter">11.2</td> <td class="tdCenter">23.5</td> <td class="tdCenter">13.6</td> <td class="tdCenter">-0.2</td> </tr>
              <tr> <td class="tdCenter">1980</td> <td class="tdCenter">11.0</td> <td class="tdCenter">22.1</td> <td class="tdCenter">13.4</td> <td class="tdCenter">-2.3</td> </tr>
              <tr> <td class="tdCenter">1981</td> <td class="tdCenter">11.5</td> <td class="tdCenter">23.6</td> <td class="tdCenter">12.2</td> <td class="tdCenter">-0.1</td> </tr>
              <tr> <td class="tdCenter">1982</td> <td class="tdCenter">12.0</td> <td class="tdCenter">23.4</td> <td class="tdCenter">14.3</td> <td class="tdCenter">-0.2</td> </tr>
              <tr> <td class="tdCenter">1983</td> <td class="tdCenter">12.2</td> <td class="tdCenter">23.4</td> <td class="tdCenter">14.2</td> <td class="tdCenter">-2.1</td> </tr>
              <tr> <td class="tdCenter">1984</td> <td class="tdCenter">10.7</td> <td class="tdCenter">24.3</td> <td class="tdCenter">13.8</td> <td class="tdCenter">-0.6</td> </tr>
              <tr> <td class="tdCenter">1985</td> <td class="tdCenter">11.5</td> <td class="tdCenter">24.1</td> <td class="tdCenter">14.3</td> <td class="tdCenter">-2.1</td> </tr>
              <tr> <td class="tdCenter">1986</td> <td class="tdCenter">11.4</td> <td class="tdCenter">22.9</td> <td class="tdCenter">12.6</td> <td class="tdCenter"> 1.2</td> </tr>
              <tr> <td class="tdCenter">1987</td> <td class="tdCenter">11.1</td> <td class="tdCenter">23.2</td> <td class="tdCenter">14.1</td> <td class="tdCenter"> 0.3</td> </tr>
              <tr> <td class="tdCenter">1988</td> <td class="tdCenter">11.0</td> <td class="tdCenter">23.6</td> <td class="tdCenter">13.6</td> <td class="tdCenter"> 1.7</td> </tr>
              <tr> <td class="tdCenter">1989</td> <td class="tdCenter">12.3</td> <td class="tdCenter">22.9</td> <td class="tdCenter">13.7</td> <td class="tdCenter"> 1.4</td> </tr>
              <tr> <td class="tdCenter">1990</td> <td class="tdCenter">11.7</td> <td class="tdCenter">24.3</td> <td class="tdCenter">15.2</td> <td class="tdCenter"> 0.2</td> </tr>
              <tr> <td class="tdCenter">1991</td> <td class="tdCenter">11.4</td> <td class="tdCenter">23.4</td> <td class="tdCenter">13.5</td> <td class="tdCenter"> 1.7</td> </tr>
              <tr> <td class="tdCenter">1992</td> <td class="tdCenter">11.6</td> <td class="tdCenter">23.2</td> <td class="tdCenter">13.4</td> <td class="tdCenter"> 1.1</td> </tr>
              <tr> <td class="tdCenter">1993</td> <td class="tdCenter">11.1</td> <td class="tdCenter">21.7</td> <td class="tdCenter">13.8</td> <td class="tdCenter"> 0.5</td> </tr>
              <tr> <td class="tdCenter">1994</td> <td class="tdCenter">11.8</td> <td class="tdCenter">25.3</td> <td class="tdCenter">14.8</td> <td class="tdCenter"> 0.8</td> </tr>
              <tr> <td class="tdCenter">1995</td> <td class="tdCenter">11.1</td> <td class="tdCenter">23.7</td> <td class="tdCenter">13.4</td> <td class="tdCenter">-0.6</td> </tr>
              <tr> <td class="tdCenter">1996</td> <td class="tdCenter">10.6</td> <td class="tdCenter">23.5</td> <td class="tdCenter">14.1</td> <td class="tdCenter"> 0.5</td> </tr>
              <tr> <td class="tdCenter">1997</td> <td class="tdCenter">12.1</td> <td class="tdCenter">24.0</td> <td class="tdCenter">14.0</td> <td class="tdCenter"> 1.9</td> </tr>
              <tr> <td class="tdCenter">1998</td> <td class="tdCenter">13.4</td> <td class="tdCenter">23.1</td> <td class="tdCenter">15.4</td> <td class="tdCenter"> 1.6</td> </tr>
              <tr> <td class="tdCenter">1999</td> <td class="tdCenter">12.1</td> <td class="tdCenter">23.3</td> <td class="tdCenter">14.7</td> <td class="tdCenter"> 0.3</td> </tr>
              <tr> <td class="tdCenter">2000</td> <td class="tdCenter">11.6</td> <td class="tdCenter">24.2</td> <td class="tdCenter">13.7</td> <td class="tdCenter"> 0.3</td> </tr>
              <tr> <td class="tdCenter">2001</td> <td class="tdCenter">12.2</td> <td class="tdCenter">24.2</td> <td class="tdCenter">14.3</td> <td class="tdCenter"> 1.5</td> </tr>
              <tr> <td class="tdCenter">2002</td> <td class="tdCenter">12.7</td> <td class="tdCenter">23.1</td> <td class="tdCenter">12.5</td> <td class="tdCenter"> 0.9</td> </tr>
              <tr> <td class="tdCenter">2003</td> <td class="tdCenter">11.9</td> <td class="tdCenter">22.3</td> <td class="tdCenter">14.7</td> <td class="tdCenter"> 1.4</td> </tr>
              <tr> <td class="tdCenter">2004</td> <td class="tdCenter">12.2</td> <td class="tdCenter">24.0</td> <td class="tdCenter">14.7</td> <td class="tdCenter"> 0.5</td> </tr>
              <tr> <td class="tdCenter">2005</td> <td class="tdCenter">11.7</td> <td class="tdCenter">24.1</td> <td class="tdCenter">14.8</td> <td class="tdCenter">-0.1</td> </tr>
              <tr> <td class="tdCenter">2006</td> <td class="tdCenter">11.5</td> <td class="tdCenter">23.6</td> <td class="tdCenter">15.1</td> <td class="tdCenter"> 2.4</td> </tr>
              <tr> <td class="tdCenter">2007</td> <td class="tdCenter">12.1</td> <td class="tdCenter">23.8</td> <td class="tdCenter">14.5</td> <td class="tdCenter"> 0.7</td> </tr>
              <tr> <td class="tdCenter">2008</td> <td class="tdCenter">12.5</td> <td class="tdCenter">23.7</td> <td class="tdCenter">15.1</td> <td class="tdCenter"> 1.7</td> </tr>
              <tr> <td class="tdCenter">2009</td> <td class="tdCenter">12.6</td> <td class="tdCenter">23.3</td> <td class="tdCenter">14.7</td> <td class="tdCenter"> 0.5</td> </tr>
              <tr> <td class="tdCenter">2010</td> <td class="tdCenter">10.8</td> <td class="tdCenter">24.9</td> <td class="tdCenter">14.5</td> <td class="tdCenter">-0.7</td> </tr>
              <tr> <td class="tdCenter">2011</td> <td class="tdCenter">11.0</td> <td class="tdCenter">24.0</td> <td class="tdCenter">15.3</td> <td class="tdCenter">-0.4</td> </tr>
            </table>

      <p><b>풀이</b>
      <table style="width:650px">
        <tr>
          <td>
            <input class="qrBtn" type="image" src="../../QR/eStatU_02LineGraph.svg" onclick="window.open(addrStr[168])">     
          </td>
          <td>
            <p>왼쪽의 QR을 이용해 『eStatM』 메뉴에서 '꺽은선그래프'를 선택하면 &lt;그림 2.13&gt;과 같은 자료 입력창이 나타난다.
            <p>'주 제목', '세로축 제목', '가로축 제목'을 그림과 같이 입력하고 '꺽은선1'에서 '꺽은선4'까지 
               봄, 여름, 가을, 겨울의 온도를 입력하고, 그 옆에 변량명을 봄, 여름, 가을, 겨울, 'X'에 연도자료를 입력한다.  
            <p>[실행] 버튼을 클릭하면 &lt;그림 2.14&gt;와 같은 꺽은선그래프가 나타난다. 변량의 색을 선택하여 
               다시 꺽은선그래프를 그릴 수도 있다. 
            <p>
              <img class="imgFig600600" src="../FigureM/Fig0213.png">
              <div class="textLeft">&lt;그림 2.13&gt; 계절별온도의 꺽은선그래프를 위한 자료 입력</div>
            <p>
              <img class="imgFig600600" src="../FigureM/Fig0214.png">
              <div class="textLeft">&lt;그림 2.14&gt; 계절별 온도의 꺽은선그래프</div>
            <p>
              계절별 평균기온의 꺽은선그래프를 살펴보면, 특히 겨울의 경우 평균기온이 점차로 높아지고 있음을 알 수 있다.
          </td>
        </tr>
      </table>
    </div>
    <!------------------------------------------------------------------------------------------------->
    <p>

    <!-------------------------------------------------------------------------->
    <div class="mainTablePink">
      <table style="width:650px">
        <tr>
          <td>
            <h4>⏱ 과제 2.3</h4> <p>
            <input class="qrBtn" type="image" src="../../QR/eStatU_02LineGraph.svg" onclick="window.open(addrStr[168])">     
          </td>
          <td>
            <p>
              1970년부터 2020년까지 10년마다 조사한 한국인의 평균수명이 다음 표와 같다. 『eStatM』을 이용하여 꺽은선그래프를 그려 특징을 알아보라. 
            <p>
            <div class="textLeft">[표 2.7] 한국인의 평균수명 (단위: 세, 통계청) </div>
            <table> 
              <tr> <th class="thGrey">연도</th> <th class="thGrey">평균수명</th>  </tr>
              <tr> <td class="tdCenter">1970</td>      <td class="tdCenter">62.3</td>   </tr>
              <tr> <td class="tdCenter">1980</td>      <td class="tdCenter">66.1</td>   </tr>
              <tr> <td class="tdCenter">1990</td>      <td class="tdCenter">71.7</td>   </tr>
              <tr> <td class="tdCenter">2000</td>      <td class="tdCenter">76.0</td>   </tr>
              <tr> <td class="tdCenter">2010</td>      <td class="tdCenter">80.2</td>   </tr>
              <tr> <td class="tdCenter">2020</td>      <td class="tdCenter">81.3</td>   </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <p>

    <!-------------------------------------------------------------------------->
    <div class="mainTablePink">
      <table style="width:650px">
        <tr>
          <td>
            <h4>⏱ 과제 2.4</h4> <p>
            <input class="qrBtn" type="image" src="../../QR/eStatU_02LineGraph.svg" onclick="window.open(addrStr[168])">     
          </td>
          <td>
            2001년부터 2020년까지 우리나라의 수출입 금액이 다음 표와 같다. 『eStatM』을 이용하여 꺽은선그래프를 그려 특징을 알아보라. 
            <p>
            <div class="textLeft">[표 2.8] 우리나라의 연도별 수출입 금액 (단위: 억불, 관세청)  </div>
            <table> 
              <tr> <th class="thGrey">연도</th> <th class="thGrey">수출액</th> <th class="thGrey">수입액</th> </tr>
              <tr> <td class="tdCenter">2001</td> <td class="tdCenter">1504</td> <td class="tdCenter">1411</td> </tr>
              <tr> <td class="tdCenter">2002</td> <td class="tdCenter">1625</td> <td class="tdCenter">1521</td> </tr>
              <tr> <td class="tdCenter">2003</td> <td class="tdCenter">1938</td> <td class="tdCenter">1788</td> </tr>
              <tr> <td class="tdCenter">2004</td> <td class="tdCenter">2538</td> <td class="tdCenter">2245</td> </tr>
              <tr> <td class="tdCenter">2005</td> <td class="tdCenter">2844</td> <td class="tdCenter">2612</td> </tr>
              <tr> <td class="tdCenter">2006</td> <td class="tdCenter">3255</td> <td class="tdCenter">3094</td> </tr>
              <tr> <td class="tdCenter">2007</td> <td class="tdCenter">3715</td> <td class="tdCenter">3568</td> </tr>
              <tr> <td class="tdCenter">2008</td> <td class="tdCenter">4220</td> <td class="tdCenter">4353</td> </tr>
              <tr> <td class="tdCenter">2009</td> <td class="tdCenter">3635</td> <td class="tdCenter">3231</td> </tr>
              <tr> <td class="tdCenter">2010</td> <td class="tdCenter">4664</td> <td class="tdCenter">4252</td> </tr>
              <tr> <td class="tdCenter">2011</td> <td class="tdCenter">5552</td> <td class="tdCenter">5244</td> </tr>
              <tr> <td class="tdCenter">2012</td> <td class="tdCenter">5479</td> <td class="tdCenter">5196</td> </tr>
              <tr> <td class="tdCenter">2013</td> <td class="tdCenter">5596</td> <td class="tdCenter">5156</td> </tr>
              <tr> <td class="tdCenter">2014</td> <td class="tdCenter">5727</td> <td class="tdCenter">5255</td> </tr>
              <tr> <td class="tdCenter">2015</td> <td class="tdCenter">5268</td> <td class="tdCenter">4365</td> </tr>
              <tr> <td class="tdCenter">2016</td> <td class="tdCenter">4954</td> <td class="tdCenter">4062</td> </tr>
              <tr> <td class="tdCenter">2017</td> <td class="tdCenter">5737</td> <td class="tdCenter">4785</td> </tr>
              <tr> <td class="tdCenter">2018</td> <td class="tdCenter">6049</td> <td class="tdCenter">5352</td> </tr>
              <tr> <td class="tdCenter">2019</td> <td class="tdCenter">5422</td> <td class="tdCenter">5033</td> </tr>
              <tr> <td class="tdCenter">2020</td> <td class="tdCenter">5125</td> <td class="tdCenter">4676</td> </tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <p>
    <!-------------------------------------------------------------------------->


<!---------------------------------------------------------------------------------->
  <h3 id="0203">2.3 단어구름</h3>
  <p>
  <div class="mainTableYellow">
    <table>
      <tr>
        <td style="width:110px">
          <h4>⭐ 생각열기</h4>
        </td>
        <td style="width:450px">
          <p>
          <b>다음은 4차 산업혁명에 대한 위키백과의 설명이다.</b>
          <p>
            <div class="textLeft">[표 2.9] 4차 산업혁명에 대한 위키백과의 설명</div>
            <table> 
              <tr> 
                <td>
                  제4차 산업 혁명은 기술이 사회와 심지어 인간의 신체에도 내장되는 새로운 방식을 대표하는 디지털 혁명 위에 구축되고 있다.[10] 제4차 산업 혁명은 로봇 공학, 인공 지능, 나노 기술, 양자 프로그래밍, 생명 공학, IoT, 3D 인쇄 및 자율주행 차량을 비롯한 여러 분야에서 새로운 기술 혁신이 나타나고 있다.
                  <p>세계 경제 포럼 암시자 슈왑(Klaus Schwab)의 저서 《제4차 산업 혁명》에서 이 4번째 혁명이 기술 발전에 의해 특징지어졌던 이전의 3가지 혁명과 근본적으로 다른 점을 언급하고 있다. 이러한 기술은 수십억 명의 사람들을 계속해서 웹에 연결하고 비즈니스 및 조직의 효율성을 획기적으로 향상시키며 더 나은 자산 관리를 통해 자연 환경을 재생산할 수 있는 커다란 잠재력을 가지고 있다.[11]
                  <p>"제4차 산업 혁명 마스터 하기"는 스위스 Davos-Klosters에서 열린 세계 경제 포럼 연례회의 (World Economic Forum Annual Meeting 2016)의 주제였다.  </tr>
                </td>
              <tr>
            </table>
        </td>
      </tr>
      <tr>
        <td>
          <h4>💎 탐구</h4>
        </td>
        <td>
          <p>
          <b>과연 4차 산업혁명 설명에는 어떠한 단어가 중요할까? 
          </b>
        </td>
      </tr>
    </table>
  </div>
  <p>

  <div class="mainTable">
      <p><b>단어구름</b>은 문자 자료의 정보를 시각적으로 표현한 것이다. 단어구름은 주어진 문장에 나타나는 
         모든 단어들의 빈도수를 조사하여 많이 나타난 단어의 중요성을 글꼴 크기, 기울기 또는 색상으로 
         잘 보이도록 표시한다. &lt;그림 2.15&gt;는 위의 4차 산업혁명 설명에 대한 단어 구름이다.
      <p>
           <img class="imgFig600600" src="../FigureM/Fig0215.png">
           <div class="textLeft">&lt;그림 2.15&gt;  4차 산업혁명 설명에 대한 단어 구름</div>
      <p>
         단어구름은 가장 두드러진 단어를 빠르게 인식하여 상대적인 중요도를 결정하는 데 유용하다. 
         예를 들면 정치 연설의 중요한 주제를 시각화 하든지, 소셜 미디어 소프트웨어에서 한 단어와 관련된 
         항목의 하이퍼링크를 결정하는 도구로 사용할 수 있다. 단어 구름의 중요 단어는 특정 웹 사이트와 
         관련된 검색 엔진 마케팅 용어로 사용되기도 한다.
      <p>단어구름 생성에는 많은 알고리즘이 있는데 eStat는 d3 오픈 소프트웨어의 알고리즘을 채택했다. 
         d3는 한글에 대한 불필요한 용어를 제거하는 알고리즘은 아직 없어 정확한 단어구름을 제공하지는 못한다. 
         현재 단어구름은 단어 사이의 연관성을 표시할 수 있는 알고리즘 개발이 진행되고 있다. 
  </div>
  <p>

    <!------------------------------------------------------------------------------------------------->
    <div class="mainTableGrey">
      <p><h4>🎲 실습 2.3</h4>
        『eStatM』을 이용하여 [표 2.9]의 4차 산업혁명에 대한 단어구름을 그려 관찰하라
      <p><b>풀이</b>
      <p>
         『eStatM』 의 '단어구름' 자료 입력 창에 [표 2.9]의 문장을 복사한 후 [실행] 버튼을 클릭하면 &lt;그림 2.15&gt;와 같은 단어 구름이 나타난다.
      <p>
      <!--------Word cloud html ------------------------------------------------------------------------->
      <p> 
      <button type="button" id="eraseWordData" style="width:140px;"><b><span data-msgid="input data"></span></b></button>
      <p>
         <textarea id="textarea" name="textarea" rows="10" cols="80"></textarea>  
         <div class="textLeft">&lt;그림 2.16&gt; 단어구름을 위한 자료 입력</div>
      <p>
      <button type="button" id="executeWord" style="width:140px;">
        <span data-msgid="Execute">Execute</span>
      </button> 
      <p>
      <svg id="chartWord" width="750" height="540" style="border-style:solid;"> </svg> 
      <p> 
      <button type="button" id="saveGraphWord" style="width:140px;">
	<span class="tooltiptext" data-msgid="Graph Save">Graph Save</span>
      </button>
      <p>
    </div>
    <!------------------------------------------------------------------------------------------------->
    <p>
    <!--------Word cloud script ------------------------------------------------------------------------->
    <script>
      setLanguage('ko');
      document.getElementById("textarea").value = "제4차 산업 혁명은 기술이 사회와 심지어 인간의 신체에도 내장되는 새로운 방식을 대표하는 디지털 혁명 위에 구축되고 있다.[10] 제4차 산업 혁명은 로봇 공학, 인공 지능, 나노 기술, 양자 프로그래밍, 생명 공학, IoT, 3D 인쇄 및 자율주행 차량을 비롯한 여러 분야에서 새로운 기술 혁신이 나타나고 있다. 세계 경제 포럼 암시자 슈왑(Klaus Schwab)의 저서 《제4차 산업 혁명》에서 이 4번째 혁명이 기술 발전에 의해 특징지어졌던 이전의 3가지 혁명과 근본적으로 다른 점을 언급하고 있다. 이러한 기술은 수십억 명의 사람들을 계속해서 웹에 연결하고 비즈니스 및 조직의 효율성을 획기적으로 향상시키며 더 나은 자산 관리를 통해 자연 환경을 재생산할 수 있는 커다란 잠재력을 가지고 있다. 제4차 산업 혁명 마스터 하기는 스위스 Davos-Klosters에서 열린 세계 경제 포럼 연례회의 (World Economic Forum Annual Meeting 2016)의 주제였다."; 
      var svg = d3.select("#chartWord");

      // erase Word Data
      d3.select("#eraseWordData").on("click",function() {
        svg.selectAll("*").remove();
        // title
        document.getElementById("textarea").value = "";
      })
      // execute Word Cloud
      d3.select("#executeWord").on("click", function() {
        $("#chartWord").empty();
        text_string = $("#textarea").val();
        drawWordCloud(text_string); 
      });

      // svg Graph Save
      d3.select("#saveGraphWord").on("click", function() {
        var width  = svgWidth;
        var height = svgHeight;
        var svgString = getSVGString(svg.node());
        svgString2Image(svgString, width, height, 'png', save);
        function save(dataBlob, filesize) {
          saveAs(dataBlob, 'eStatGraphU.png');
        }
      });

      function drawWordCloud(text_string){
        var common = "여러,심지어,있다,이러한,통해,의해,있는,이전의,poop,i,me,my,myself,we,us,our,ours,ourselves,you,your,yours,yourself,yourselves,he,him,his,himself,she,her,hers,herself,it,its,itself,they,them,their,theirs,themselves,what,which,who,whom,whose,this,that,these,those,am,is,are,was,were,be,been,being,have,has,had,having,do,does,did,doing,will,would,should,can,could,ought,i'm,you're,he's,she's,it's,we're,they're,i've,you've,we've,they've,i'd,you'd,he'd,she'd,we'd,they'd,i'll,you'll,he'll,she'll,we'll,they'll,isn't,aren't,wasn't,weren't,hasn't,haven't,hadn't,doesn't,don't,didn't,won't,wouldn't,shan't,shouldn't,can't,cannot,couldn't,mustn't,let's,that's,who's,what's,here's,there's,when's,where's,why's,how's,a,an,the,and,but,if,or,because,as,until,while,of,at,by,for,with,about,against,between,into,through,during,before,after,above,below,to,from,up,upon,down,in,out,on,off,over,under,again,further,then,once,here,there,when,where,why,how,all,any,both,each,few,more,most,other,some,such,no,nor,not,only,own,same,so,than,too,very,say,says,said,shall";

        var word_count = {};

        var words = text_string.split(/[ '\-\(\)\*":;\[\]|{},.!?]+/);
          if (words.length == 1){
            word_count[words[0]] = 1;
          } else {
            words.forEach(function(word){
              var word = word.toLowerCase();
              if (word != "" && common.indexOf(word)==-1 && word.length>1){
                if (word_count[word]){
                  word_count[word]++;
                } else {
                  word_count[word] = 1;
                }
              }
            })
          }

        var svg_location = "#chartWord";
        var width = svgWidth; // $(document).width();
        var height = svgHeight; // $(document).height();

        var fill = d3.schemeCategory20;

        var word_entries = d3.entries(word_count);

        var xScale = d3.scaleLinear()
           .domain([0, d3.max(word_entries, function(d) {
              return d.value;
            })
           ])
           .range([10,100]);

        d3.layout.cloud().size([width, height])
          .timeInterval(20)
          .words(word_entries)
          .fontSize(function(d) { return xScale(+d.value); })
          .text(function(d) { return d.key; })
          .rotate(function() { return ~~(Math.random() * 2) * 90; })
          .font("Impact")
          .on("end", draw)
          .start();

        function draw(words) {
          d3.select(svg_location).append("svg")
              .attr("width", width)
              .attr("height", height)
            .append("g")
              .attr("transform", "translate(" + [width >> 1, height >> 1] + ")")
            .selectAll("text")
              .data(words)
            .enter().append("text")
              .style("font-size", function(d) { return xScale(d.value) + "px"; })
              .style("font-family", "Impact")
              .style("fill", function(d, i) { return fill[i]; })
              .attr("text-anchor", "middle")
              .attr("transform", function(d) {
                return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
              })
              .text(function(d) { return d.key; });
        }

        d3.layout.cloud().stop();
      }
    </script>

    <!-------------------------------------------------------------------------->
    <div class="mainTablePink">
      <table style="width:650px">
        <tr>
          <td>
            <h4>⏱ 과제 2.3</h4> <p>
            <input class="qrBtn" type="image" src="../../QR/eStatU_05WordCloud.svg" onclick="window.open(addrStr[142])">     
          </td>
          <td>
            <p>
            다음은 통계학에 대한 위키백과의 설명이다. 『eStatM』을 이용하여 단어구름을 그려 관찰하라
            <p>
            <div class="textLeft">[표 2.10] 통계학에 대한 위키백과의 설명</div>
            <table> 
              <tr> 
                <td>
                  통계학은 관찰 및 조사로 얻을 수 있는 데이터로부터, 응용 수학의 기법을 이용해 수치상의 성질, 규칙성 또는 불규칙성을 찾아낸다. 통계적 기법은, 실험 계획, 데이터의 요약이나 해석을 실시하는데 있어서의 근거를 제공하는 학문이며, 폭넓은 분야에서 응용되어 실생활에 적용되고 있다.[2] 통계학은 실증적인 뿌리를 가지고 있으며 실질적 활용에 초점을 맞추고 있기 때문에, 흔히 순수수학과는 다소 구분되는 응용수학의 일종으로 여겨진다. 통계학의 방법을 통해, 실제의 수치들을 왜곡하여 해석하는 것을 막고 연구를 바탕으로 합리적인 의사결정을 할 수 있다. 통계학은 과학, 산업, 또는 사회의 문제에 적용되며 모집단을 연구하는 과정이 우선시된다. 모집단은 "한나라 안에 사는 모든 사람" 또는 "크리스탈을 구성하는 모든 원자"와 같이 일정한 특성을 지닌 집단이면 어느 것이든 가능하다. 통계학자들은 전체인구(인구조사를 하는 기업)에 대한 데이터를 편집한다. 이것은 정부의 통계관련 법률요약집같은 조직화된 방법으로 수행될 수도 있다. 기술통계학은 모집단의 데이터를 요약하는데 사용된다. 도수 및 비율 (경주 등) 범주 형 데이터를 설명하는 측면에서 더 유용할 동안 수치 기술자는 연속적인 데이터 유형 (소득 등)에 대한 평균과 표준 편차를 포함한다. 데이터 분석 방법 엄청난 자료가 연구되는 현대 사회에서 경제지표연구, 마케팅, 여론조사, 농업, 생명과학, 의료의 임상연구 등 다양한 분야에서 응용되고 있는 통계는 단연 우리 사회에서 가장 필요하고 실용적인 학문이라고 할 수 있다.
                </td>
              <tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <p>

    <!-------------------------------------------------------------------------->
    <div class="mainTablePink">
      <table style="width:650px">
        <tr>
          <td>
            <h4>⏱ 과제 2.4</h4> <p>
            <input class="qrBtn" type="image" src="../../QR/eStatU_05WordCloud.svg" onclick="window.open(addrStr[142])">     
          </td>
          <td>
            <p>
               다음은 다음은 존 에프 케네디 미국 대통령의 취임사 중 일부이다. 이 취임사에 대해 단어구름을 작성하여
               주요 단어를 분석하라. 
            <p>
            <div class="textLeft">[표 2.11] 존 에프 케네디 미국 대통령의 취임사</div>
            <table> 
              <tr> 
                <td>
                  In the long history of the world, only a few generations have been granted the role of defending freedom in its hour of maximum danger. I do not shrink from this responsibility--I welcome it. I do not believe that any of us would exchange places with any other people or any other generation. The energy, the faith, the devotion which we bring to this endeavor will light our country and all who serve it--and the glow from that fire can truly light the world.
And so, my fellow Americans: ask not what your country can do for you--ask what you can do for your country.
My fellow citizens of the world: ask not what America will do for you, but what together we can do for the freedom of man.
                </td>
              <tr>
            </table>
          </td>
        </tr>
      </table>
    </div>
    <p>
    <!-------------------------------------------------------------------------->



  <div class="mainTablePink">
    <h4> 연습문제 </h4>
    <p style="color:blue">*** 답을 선택한 후 [제출] 버튼을 누르세요

  <h6 class="textL30M30">2.1  다음과 같이 자료를 정리하여 만든 표를 무엇이라 부르는가?</h6>
           <table> 
              <tr> <th class="thGrey">성별</th> <th class="thGrey">학생수</th>  </tr>
              <tr> <td class="tdCenter">남</td>      <td class="tdCenter">6</td>   </tr>
              <tr> <td class="tdCenter">여</td>      <td class="tdCenter">4</td>   </tr>
            </table>
  <form name="Q1">
    <label><input type="radio" name="item" value="1"> 학생표</label><br>
    <label><input type="radio" name="item" value="2"> 도수분포표</label><br>
    <label><input type="radio" name="item" value="3"> 정리표</label><br>
    <label><input type="radio" name="item" value="4"> 성적표</label><br>
    <p>
    <input type="button" value="제출" onClick="radio(22,1,Q1)"> &nbsp;&nbsp;&nbsp;
    <input type="text" size=25 id="ansQ1">
  </form>

  <h6 class="textL30M30">2.2 다음 중 질적 자료 분석에 사용되는 그래프는? </h6>
  <form name="Q2">
    <label><input type="radio" name="item" value="1"> 막대그래프</label><br>
    <label><input type="radio" name="item" value="2"> 히스토그램</label><br>
    <label><input type="radio" name="item" value="3"> 줄기와 잎 그림</label><br>
    <label><input type="radio" name="item" value="4"> 산점도</label><br>
    <p>
    <input type="button" value="제출" onClick="radio(22,2,Q2)"> &nbsp;&nbsp;&nbsp;
    <input type="text" size=25 id="ansQ2">
  </form>

  <h6 class="textL30M30">2.3 다음 중 질적 자료 분석에 사용되는 그래프가 아닌 것은?  </h6>
  <form name="Q3">
    <label><input type="radio" name="item" value="1"> 막대그래프</label><br>
    <label><input type="radio" name="item" value="2"> 히스토그램</label><br>
    <label><input type="radio" name="item" value="3"> 원그래프</label><br>
    <label><input type="radio" name="item" value="4"> 띠그래프</label><br>
    <p>
    <input type="button" value="제출" onClick="radio(22,3,Q3)"> &nbsp;&nbsp;&nbsp;
    <input type="text" size=25 id="ansQ3">
  </form>

  </div>

  <script>
    for (var i=0; i < ans[22][0]; i++) document.getElementById(ansID[i+1]).disabled = true;
  </script>
  <p>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(141)">&#10094;&#10094; &nbsp;&nbsp;<b>1장</b></button>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      <button type="button" style="width:160px" onclick="moveSection(143)"><b>3장</b>&nbsp;&nbsp; &#10095;&#10095;</button>
 </div>
    
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="https://maxcdn.bootstrapcdn.com/js/ie10-viewport-bug-workaround.js"></script>
    <script>
        //document.getElementById('sidebar').getElementsByTagName('ul')[0].className += "nav nav-sidebar";
        
        /* ajust the height when click the toc
           the code is from https://github.com/twbs/bootstrap/issues/1768
        */
        var shiftWindow = function() { scrollBy(0, -50) };
        window.addEventListener("hashchange", shiftWindow);
        function load() { if (window.location.hash) shiftWindow(); }
        
        /*add Bootstrap styles to tables*/
        var tables = document.getElementsByTagName("table");
        for(var i = 0; i < tables.length; ++i){
            tables[i].className += "table table-bordered table-hover";
        }
    </script>

</body>
</html>

